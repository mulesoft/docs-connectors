= Amazon S3 Connector 5.8 Connector Reference
:page-aliases: connectors::amazon/amazon-s3-connector-reference.adoc

Anypoint Connector for Amazon S3 (Amazon S3 Connector) provides connectivity to the Amazon S3 API, enabling you to interface with Amazon S3 to store objects, download and use data with other AWS services, and build applications that require internet storage.

Support Category: https://www.mulesoft.com/legal/versioning-back-support-policy#anypoint-connectors[Select]

Guide: xref:connectors::amazon/amazon-s3-connector.adoc[Amazon S3 Connector]

Release Notes: xref:release-notes::connector/amazon-s3-connector-release-notes-mule-4.adoc[Amazon S3 Connector Release Notes]

== Configurations
---
[[config]]
=== Configuration

==== Parameters
[%header,cols="20s,20a,35a,20a,5a"]
|===
| Name | Type | Description | Default Value | Required
|Name | String | The name for this configuration. Connectors reference the configuration with this name. | | x
| Connection a| * <<config_basic, Basic>>
* <<config_role, Role>>
 | The connection types to provide to this configuration. | | x
| Expiration Policy a| <<ExpirationPolicy>> |  Configures the minimum amount of time that a dynamic configuration instance can remain idle before Mule considers it eligible for expiration. This does not mean that the platform expires the instance at the exact moment that it becomes eligible. Mule purges the instances as appropriate. |  |
|===

==== Connection Types
[[config_basic]]
===== Basic

====== Parameters
[%header,cols="20s,20a,35a,20a,5a"]
|===
| Name | Type | Description | Default Value | Required
| Session Token a| String |  The session token provided by Amazon Secure Token Service (STS). |  |
| Connection Timeout a| Number |  The amount of time to wait (in seconds) when initially establishing a connection before the connector gives up and times out. A value of 0 means infinity and is not recommended. |  50 |
| Connection Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | Time unit used in the connection timeout configurations. |  SECONDS |
| Max Connections a| Number |  Sets the maximum number of allowed open HTTP connections. |  |
| Socket Timeout a| Number |  The amount of time to wait (in seconds) for data to be transferred over an established, open connection before the connection times out. A value of 0 means infinity and is not recommended. |  50 |
| Socket Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | Time unit used in the socket timeout configurations. | SECONDS |
| Access Key a| String |  The access key provided by Amazon. |  | x
| Secret Key a| String |  The secret key provided by Amazon. |  | x
| Region Endpoint a| String |  Set the topic region endpoint. |  US_EAST_1 |
| Try Default AWSCredentials Provider Chain a| Boolean |  Set this field to true to obtain credentials from the AWS environment. See https://docs.aws.amazon.com/sdk-for-java/v2/developer-guide/credentials.html. |  false |
| Custom Service Endpoint a| String | Sets a custom service endpoint. Useful when a non-standard service endpoint is required, such as a VPC endpoint. |  |
| TLS Configuration a| <<TLS>> |  |  |
| Reconnection a| <<Reconnection>> |  When the application is deployed, a connectivity test is performed on all connectors. If set to true, deployment fails if the test doesn't pass after exhausting the associated reconnection strategy. |  |
| Host a| String |  The optional proxy host. |  |
| Port a| Number |  The optional proxy port. |  |
| Username a| String |  The optional proxy username. |  |
| Password a| String |  The optional proxy password. |  |
| Domain a| String |  The optional proxy domain. |  |
| Workstation a| String |  The optional proxy workstation. |  |
| Force Global Bucket Access a| Boolean |  Enable this option to be able to execute bucket-related operations against other regions than the one configured for this connector. |  false |
| S3 Compatible Storage URL (Deprecated) a| String | The URL to connect to when S3-compatible storage is used. If blank, the connector uses the default AWS S3 URL. If both the Custom Service Endpoint and Storage Url are specified, then the Custom Service Endpoint is used. |  |
|===

[[config_role]]
===== Role


====== Parameters
[%header,cols="20s,20a,35a,20a,5a"]
|===
| Name | Type | Description | Default Value | Required
| Role ARN a| String |  Uniquely identifies the role used to gain cross-account access. |  | x
| Custom STS Endpoint a| String | Sets a custom STS endpoint. Useful when a non-standard service endpoint is required, such as a VPC endpoint. |  |
| Connection Timeout a| Number | The amount of time to wait (in seconds) when initially establishing a connection before the connector gives up and times out. A value of 0 means infinity and is not recommended. | 50 |
| Connection Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | Time unit used in the connection timeout configurations. | SECONDS |
| Max Connections a| Number |  Sets the maximum number of allowed open HTTP connections. |  |
| Socket Timeout a| Number |  The amount of time to wait (in seconds) for data to be transferred over an established, open connection before the connection times out. A value of 0 means infinity and is not recommended. |  50 |
| Socket Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | Time unit used in the socket timeout configurations. | SECONDS |
| Access Key a| String |  The access key provided by Amazon. |  | x
| Secret Key a| String |  The secret key provided by Amazon. |  | x
| Region Endpoint a| String |  Set the topic region endpoint. |  US_EAST_1 |
| Try Default AWSCredentials Provider Chain a| Boolean |  Set this field to true to obtain credentials from the AWS environment. See: https://docs.aws.amazon.com/sdk-for-java/v2/developer-guide/credentials.html |  false |
| Custom Service Endpoint a| String | Sets a custom service endpoint. Useful when a non-standard service endpoint is required, such as a VPC endpoint. |  |
| TLS Configuration a| <<Tls>> |  |  |
| Reconnection a| <<Reconnection>> |  When the application is deployed, a connectivity test is performed on all connectors. If set to true, deployment fails if the test doesn't pass after exhausting the associated reconnection strategy. |  |
| Host a| String |  The optional proxy host. |  |
| Port a| Number |  The optional proxy port. |  |
| Username a| String |  The optional proxy username. |  |
| Password a| String |  The optional proxy password. |  |
| Domain a| String |  The optional proxy domain. |  |
| Workstation a| String |  The optional proxy workstation. |  |
| Force Global Bucket Access a| Boolean |  Enable this option to be able to execute bucket-related operations against other regions than the one configured for this connector. |  false |
| S3 Compatible Storage URL (Deprecated) a| String | The URL to connect to when S3-compatible storage is used. If blank, the connector uses the default AWS S3 URL. If both the Custom Service Endpoint and Storage Url are specified, then the Custom Service Endpoint is used. |  |
|===

== Supported Operations

* <<abortMultipartUpload>>
* <<completeMultipartUpload>>
* <<copyObject>>
* <<createBucket>>
* <<createObject>>
* <<createObjectPresignedUri>>
* <<deleteBucket>>
* <<deleteBucketCorsConfiguration>>
* <<deleteBucketLifecycleConfiguration>>
* <<deleteBucketPolicy>>
* <<deleteBucketTaggingConfiguration>>
* <<deleteBucketWebsiteConfiguration>>
* <<deleteObject>>
* <<deleteObjects>>
* <<getBucketAcl>>
* <<getBucketCorsConfiguration>>
* <<getBucketLifecycleConfiguration>>
* <<getBucketLocation>>
* <<getBucketLoggingConfiguration>>
* <<getBucketNotificationConfiguration>>
* <<getBucketPolicy>>
* <<getBucketTaggingConfiguration>>
* <<getBucketVersioningConfiguration>>
* <<getBucketWebsiteConfiguration>>
* <<getObject>>
* <<getObjectAcl>>
* <<getObjectMetadata>>
* <<initiateMultipartUpload>>
* <<listBuckets>>
* <<listMultipartUploads>>
* <<listObjects>>
* <<listParts>>
* <<listVersions>>
* <<setBucketAcl>>
* <<setBucketCorsConfiguration>>
* <<setBucketLifecycleConfiguration>>
* <<setBucketLoggingConfiguration>>
* <<setBucketNotificationConfiguration>>
* <<setBucketPolicy>>
* <<setBucketTaggingConfiguration>>
* <<setBucketVersioningConfiguration>>
* <<setBucketWebsiteConfiguration>>
* <<setObjectAcl>>
* <<setObjectStorageClass>>
* <<uploadPart>>
* <<uploadPartCopy>>

== Supported Sources
* <<deleted-object-trigger>>
* <<new-object-trigger>>


== Operations

[[abortMultipartUpload]]
=== Abort Multipart Upload
`<s3:abort-multipart-upload>`

Aborts a multipart upload. After a multipart upload is aborted, no additional parts can be uploaded using that upload ID. The storage consumed by any previously uploaded parts will be freed. However, if any part uploads are currently in progress, those part uploads may or may not succeed. As a result, it may be necessary to abort a given multipart upload multiple times to completely free all storage consumed by all parts.

==== Parameters
[%header,cols="20s,20a,35a,20a,5a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Bucket Name a| String |  The name of the bucket containing the multipart upload to abort. |  | x
| Key a| String |  The key of the multipart upload to abort. |  | x
| Upload Id a| String |  The ID of the upload to abort. |  | x
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===


=== For Configurations
* <<config>>

==== Throws
* S3:INVALID_RANGE
* S3:REDIRECT
* S3:SERVICE_UNAVAILABLE
* S3:REQUEST_TIME_TOO_SKEWED
* S3:INVALID_STORAGE_CLASS
* S3:MAX_MESSAGE_LENGTH_EXCEEDED
* S3:REQUEST_IS_NOT_MULTI_PART_CONTENT
* S3:UNEXPECTED_CONTENT
* S3:NO_SUCH_BUCKET
* S3:ENTITY_TOO_SMALL
* S3:INVALID_SOAP_REQUEST
* S3:INVALID_PART
* S3:METADATA_TOO_LARGE
* S3:NO_SUCH_VERSION
* S3:PRECONDITION_FAILED
* S3:BUCKET_ALREADY_EXISTS
* S3:MISSING_SECURITY_ELEMENT
* S3:AMBIGUOUS_GRANT_BY_EMAIL_ADDRESS
* S3:INVALID_URI
* S3:NOT_SIGNED_UP
* S3:INVALID_ADDRESSING_HEADER
* S3:MAX_POST_PRE_DATA_LENGTH_EXCEEDED_ERROR
* S3:ILLEGAL_VERSIONING_CONFIGURATION_EXCEPTION
* S3:INVALID_PAYER
* S3:INVALID_SECURITY
* S3:NO_SUCH_BUCKET_POLICY
* S3:OPERATION_ABORTED
* S3:INVALID_ACCESS_KEY_ID
* S3:INVALID_LOCATION_CONSTRAINT
* S3:INLINE_DATA_TOO_LARGE
* S3:SIGNATURE_DOES_NOT_MATCH
* S3:UNRESOLVABLE_GRANT_BY_EMAIL_ADDRESS
* S3:NO_SUCH_LIFECYCLE_CONFIGURATION
* S3:KEY_TOO_LONG
* S3:INVALID_BUCKET_NAME
* S3:INVALID_TOKEN
* S3:TEMPORARY_REDIRECT
* S3:BUCKET_NOT_EMPTY
* S3:MALFORMED_POST_REQUEST
* S3:BAD_DIGEST
* S3:CROSS_LOCATION_LOGGING_PROHIBITED
* S3:REQUEST_TIMEOUT
* S3:TOO_MANY_BUCKETS
* S3:NO_SUCH_KEY
* S3:MISSING_ATTACHMENT
* S3:INVALID_BUCKET_STATE
* S3:RETRY_EXHAUSTED
* S3:INVALID_PART_ORDER
* S3:INVALID_RESPONSE_PRESIGNEDURL_MALFORMED
* S3:INVALID_POLICY_DOCUMENT
* S3:MALFORMED_XML
* S3:ACCOUNT_PROBLEM
* S3:USER_KEY_MUST_BE_SPECIFIED
* S3:MISSING_CONTENT_LENGTH
* S3:INVALID_DIGEST
* S3:ACCESS_DENIED
* S3:MISSING_REQUEST_BODY_ERROR
* S3:REQUEST_TORRENT_OF_BUCKET_ERROR
* S3:TOKEN_REFRESH_REQUIRED
* S3:RESTORE_ALREADY_IN_PROGRESS
* S3:NO_LOGGING_STATUS_FOR_KEY
* S3:INVALID_OBJECT_STATE
* S3:CONNECTIVITY
* S3:INVALID_ENCRYPTION_ALGORITHM_ERROR
* S3:PERMANENT_REDIRECT
* S3:INVALID_REQUEST
* S3:INCORRECT_NUMBER_OF_FILES_IN_POST_REQUEST
* S3:UNKNOWN
* S3:MALFORMED_ACL_ERROR
* S3:CREDENTIALS_NOT_SUPPORTED
* S3:NOT_IMPLEMENTED
* S3:INVALID_TARGET_BUCKET_FOR_LOGGING
* S3:INVALID_ARGUMENT
* S3:NO_SUCH_UPLOAD
* S3:INTERNAL_ERROR
* S3:SLOW_DOWN
* S3:METHOD_NOT_ALLOWED
* S3:ENTITY_TOO_LARGE
* S3:EXPIRED_TOKEN
* S3:MISSING_SECURITY_HEADER
* S3:BUCKET_ALREADY_OWNED_BY_YOU
* S3:INCOMPLETE_BODY


[[completeMultipartUpload]]
=== Complete Multipart Upload
`<s3:complete-multipart-upload>`


Completes a multipart upload by assembling previously uploaded parts.


==== Parameters
[%header,cols="20s,20a,35a,20a,5a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Bucket Name a| String |  The name of the bucket containing the multipart upload to complete. |  | x
| Key a| String |  The key under which the multipart upload to complete is stored. |  | x
| Upload Id a| String |  The ID of the multipart upload to complete. |  | x
| Part ETags a| Array of <<PartETag>> |  The list of part numbers and ETags that identify the individual parts of the multipart upload to complete. |  #[payload] |
| Target Variable a| String |  The name of a variable to store the operation's output. |  |
| Target Value a| String |  An expression to evaluate against the operation's output and store the expression outcome in the target variable. |  #[payload] |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===

==== Output
[%autowidth.spread]
|===
|Type |<<CompleteMultipartUploadResult>>
|===

=== For Configurations
* <<config>>

==== Throws
* S3:INVALID_RANGE
* S3:REDIRECT
* S3:SERVICE_UNAVAILABLE
* S3:REQUEST_TIME_TOO_SKEWED
* S3:INVALID_STORAGE_CLASS
* S3:MAX_MESSAGE_LENGTH_EXCEEDED
* S3:REQUEST_IS_NOT_MULTI_PART_CONTENT
* S3:UNEXPECTED_CONTENT
* S3:NO_SUCH_BUCKET
* S3:ENTITY_TOO_SMALL
* S3:INVALID_SOAP_REQUEST
* S3:INVALID_PART
* S3:METADATA_TOO_LARGE
* S3:NO_SUCH_VERSION
* S3:PRECONDITION_FAILED
* S3:BUCKET_ALREADY_EXISTS
* S3:MISSING_SECURITY_ELEMENT
* S3:AMBIGUOUS_GRANT_BY_EMAIL_ADDRESS
* S3:INVALID_URI
* S3:NOT_SIGNED_UP
* S3:INVALID_ADDRESSING_HEADER
* S3:MAX_POST_PRE_DATA_LENGTH_EXCEEDED_ERROR
* S3:ILLEGAL_VERSIONING_CONFIGURATION_EXCEPTION
* S3:INVALID_PAYER
* S3:INVALID_SECURITY
* S3:NO_SUCH_BUCKET_POLICY
* S3:OPERATION_ABORTED
* S3:INVALID_ACCESS_KEY_ID
* S3:INVALID_LOCATION_CONSTRAINT
* S3:INLINE_DATA_TOO_LARGE
* S3:SIGNATURE_DOES_NOT_MATCH
* S3:UNRESOLVABLE_GRANT_BY_EMAIL_ADDRESS
* S3:NO_SUCH_LIFECYCLE_CONFIGURATION
* S3:KEY_TOO_LONG
* S3:INVALID_BUCKET_NAME
* S3:INVALID_TOKEN
* S3:TEMPORARY_REDIRECT
* S3:BUCKET_NOT_EMPTY
* S3:MALFORMED_POST_REQUEST
* S3:BAD_DIGEST
* S3:CROSS_LOCATION_LOGGING_PROHIBITED
* S3:REQUEST_TIMEOUT
* S3:TOO_MANY_BUCKETS
* S3:NO_SUCH_KEY
* S3:MISSING_ATTACHMENT
* S3:INVALID_BUCKET_STATE
* S3:RETRY_EXHAUSTED
* S3:INVALID_PART_ORDER
* S3:INVALID_RESPONSE_PRESIGNEDURL_MALFORMED
* S3:INVALID_POLICY_DOCUMENT
* S3:MALFORMED_XML
* S3:ACCOUNT_PROBLEM
* S3:USER_KEY_MUST_BE_SPECIFIED
* S3:MISSING_CONTENT_LENGTH
* S3:INVALID_DIGEST
* S3:ACCESS_DENIED
* S3:MISSING_REQUEST_BODY_ERROR
* S3:REQUEST_TORRENT_OF_BUCKET_ERROR
* S3:TOKEN_REFRESH_REQUIRED
* S3:RESTORE_ALREADY_IN_PROGRESS
* S3:NO_LOGGING_STATUS_FOR_KEY
* S3:INVALID_OBJECT_STATE
* S3:CONNECTIVITY
* S3:INVALID_ENCRYPTION_ALGORITHM_ERROR
* S3:PERMANENT_REDIRECT
* S3:INVALID_REQUEST
* S3:INCORRECT_NUMBER_OF_FILES_IN_POST_REQUEST
* S3:UNKNOWN
* S3:MALFORMED_ACL_ERROR
* S3:CREDENTIALS_NOT_SUPPORTED
* S3:NOT_IMPLEMENTED
* S3:INVALID_TARGET_BUCKET_FOR_LOGGING
* S3:INVALID_ARGUMENT
* S3:NO_SUCH_UPLOAD
* S3:INTERNAL_ERROR
* S3:SLOW_DOWN
* S3:METHOD_NOT_ALLOWED
* S3:ENTITY_TOO_LARGE
* S3:EXPIRED_TOKEN
* S3:MISSING_SECURITY_HEADER
* S3:BUCKET_ALREADY_OWNED_BY_YOU
* S3:INCOMPLETE_BODY


[[copyObject]]
=== Copy Object
`<s3:copy-object>`

Copies a source object to a new destination. To copy an object, the caller's account must have read access to the source object and write access to the destination bucket. By default, all object metadata for the source object is copied to the new destination object, unless new object metadata is specified.

The AccessControlList (ACL) is not copied to the new object, and is set to PRIVATE unless a new ACL is specified.

If no destination bucket is specified, the same bucket as the source bucket is used (local copy). The estimation object's `Content-Type` HTTP header is set with the specified value. If it is passed null, then the default MIME type `application/octet-stream` is set.

==== Parameters
[%header,cols="20s,20a,35a,20a,5a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Source Bucket Name a| String | The source object's bucket. |  | x
| Source Key a| String | The source object's key. |  | x
| Source Version Id a| String |  The specific version of the source object to copy, if versioning is enabled. |  |
| Destination Bucket Name a| String |  The destination object's bucket. If the bucket isn't specified, the object is copied within the same bucket. |  |
| Destination Key a| String |  The destination object's key. |  | x
| Canned ACL a| Enumeration, one of:

** PRIVATE
** PUBLIC_READ
** PUBLIC_READ_WRITE
** AUTHENTICATED_READ
** LOG_DELIVERY_WRITE
** BUCKET_OWNER_READ
** BUCKET_OWNER_FULL_CONTROL |  The ACL of the destination object. |  PRIVATE |
| Destination Storage Class a| Enumeration, one of:

** STANDARD
** STANDARD_IA
** INTELLIGENT_TIERING
** ONEZONE_IA
** REDUCED_REDUNDANCY
** GLACIER |  One of StorageClass enumerated values, defaults to StorageClass#STANDARD. |  STANDARD |
| Destination User Metadata a| Object |  The new metadata of the destination object. If specified, this overrides what is copied from the source object. |  |
| Modified Since a| DateTime |  The modified constraint that restricts this request to executing only if the object was modified after the specified date. |  |
| Unmodified Since a| DateTime |  The unmodified constraint that restricts this request to executing only if the object is not modified after this date. |  |
| Encryption a| String |  Encryption method for server-side encryption. Supported value is AES256. |  |
| Content Type a| String |  The destination object's Content-Type HTTP header |  |
| Target Variable a| String |  The name of a variable to store the operation's output. |  |
| Target Value a| String |  An expression to evaluate against the operation's output and store the expression outcome in the target variable. |  #[payload] |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===

==== Output
[%autowidth.spread]
|===
|Type |<<ObjectResult>>
|===

=== For Configurations
* <<config>>

==== Throws
* S3:INVALID_RANGE
* S3:REDIRECT
* S3:SERVICE_UNAVAILABLE
* S3:REQUEST_TIME_TOO_SKEWED
* S3:INVALID_STORAGE_CLASS
* S3:MAX_MESSAGE_LENGTH_EXCEEDED
* S3:REQUEST_IS_NOT_MULTI_PART_CONTENT
* S3:UNEXPECTED_CONTENT
* S3:NO_SUCH_BUCKET
* S3:ENTITY_TOO_SMALL
* S3:INVALID_SOAP_REQUEST
* S3:INVALID_PART
* S3:METADATA_TOO_LARGE
* S3:NO_SUCH_VERSION
* S3:PRECONDITION_FAILED
* S3:BUCKET_ALREADY_EXISTS
* S3:MISSING_SECURITY_ELEMENT
* S3:AMBIGUOUS_GRANT_BY_EMAIL_ADDRESS
* S3:INVALID_URI
* S3:NOT_SIGNED_UP
* S3:INVALID_ADDRESSING_HEADER
* S3:MAX_POST_PRE_DATA_LENGTH_EXCEEDED_ERROR
* S3:ILLEGAL_VERSIONING_CONFIGURATION_EXCEPTION
* S3:INVALID_PAYER
* S3:INVALID_SECURITY
* S3:NO_SUCH_BUCKET_POLICY
* S3:OPERATION_ABORTED
* S3:INVALID_ACCESS_KEY_ID
* S3:INVALID_LOCATION_CONSTRAINT
* S3:INLINE_DATA_TOO_LARGE
* S3:SIGNATURE_DOES_NOT_MATCH
* S3:UNRESOLVABLE_GRANT_BY_EMAIL_ADDRESS
* S3:NO_SUCH_LIFECYCLE_CONFIGURATION
* S3:KEY_TOO_LONG
* S3:INVALID_BUCKET_NAME
* S3:INVALID_TOKEN
* S3:TEMPORARY_REDIRECT
* S3:BUCKET_NOT_EMPTY
* S3:MALFORMED_POST_REQUEST
* S3:BAD_DIGEST
* S3:CROSS_LOCATION_LOGGING_PROHIBITED
* S3:REQUEST_TIMEOUT
* S3:TOO_MANY_BUCKETS
* S3:NO_SUCH_KEY
* S3:MISSING_ATTACHMENT
* S3:INVALID_BUCKET_STATE
* S3:RETRY_EXHAUSTED
* S3:INVALID_PART_ORDER
* S3:INVALID_RESPONSE_PRESIGNEDURL_MALFORMED
* S3:INVALID_POLICY_DOCUMENT
* S3:MALFORMED_XML
* S3:ACCOUNT_PROBLEM
* S3:USER_KEY_MUST_BE_SPECIFIED
* S3:MISSING_CONTENT_LENGTH
* S3:INVALID_DIGEST
* S3:ACCESS_DENIED
* S3:MISSING_REQUEST_BODY_ERROR
* S3:REQUEST_TORRENT_OF_BUCKET_ERROR
* S3:TOKEN_REFRESH_REQUIRED
* S3:RESTORE_ALREADY_IN_PROGRESS
* S3:NO_LOGGING_STATUS_FOR_KEY
* S3:INVALID_OBJECT_STATE
* S3:CONNECTIVITY
* S3:INVALID_ENCRYPTION_ALGORITHM_ERROR
* S3:PERMANENT_REDIRECT
* S3:INVALID_REQUEST
* S3:INCORRECT_NUMBER_OF_FILES_IN_POST_REQUEST
* S3:UNKNOWN
* S3:MALFORMED_ACL_ERROR
* S3:CREDENTIALS_NOT_SUPPORTED
* S3:NOT_IMPLEMENTED
* S3:INVALID_TARGET_BUCKET_FOR_LOGGING
* S3:INVALID_ARGUMENT
* S3:NO_SUCH_UPLOAD
* S3:INTERNAL_ERROR
* S3:SLOW_DOWN
* S3:METHOD_NOT_ALLOWED
* S3:ENTITY_TOO_LARGE
* S3:EXPIRED_TOKEN
* S3:MISSING_SECURITY_HEADER
* S3:BUCKET_ALREADY_OWNED_BY_YOU
* S3:INCOMPLETE_BODY

[[createBucket]]
=== Create Bucket
`<s3:create-bucket>`

Creates a new bucket. The connector must not be configured as anonymous for this operation to succeed. Bucket names must be unique across all of Amazon S3, that is, among all Amazon S3 users. Bucket ownership is similar to the ownership of Internet domain names. Within Amazon S3, only a single user owns each bucket. Once a uniquely named bucket is created in Amazon S3, you can organize and name the objects within the bucket in any way.

Ownership of the bucket is retained as long as the owner has an Amazon S3 account. To conform with DNS requirements, buckets names must be between 3 and 63 characters long. They must not contain underscores, adjacent periods, dashes next to periods, or uppercase characters. Also they must not end with a dash.

Do not make bucket create or delete calls in the high availability code path of an application. Create or delete buckets in a separate initialization or setup.

==== Parameters
[%header,cols="20s,20a,35a,20a,5a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Bucket Name a| String |  The bucket to create. It must not already exist. |  | x
| Region a| String |  The region where to create the new bucket. |  US_STANDARD |
| Canned ACL a| Enumeration, one of:

** PRIVATE
** PUBLIC_READ
** PUBLIC_READ_WRITE
** AUTHENTICATED_READ
** LOG_DELIVERY_WRITE
** BUCKET_OWNER_READ
** BUCKET_OWNER_FULL_CONTROL |  The access control list of the new bucket. |  PRIVATE |
| Target Variable a| String |  The name of a variable to store the operation's output. |  |
| Target Value a| String |  An expression to evaluate against the operation's output and store the expression outcome in the target variable. |  #[payload] |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===

==== Output
[%autowidth.spread]
|===
|Type |<<Bucket>>
|===

=== For Configurations
* <<config>>

==== Throws
* S3:INVALID_RANGE
* S3:REDIRECT
* S3:SERVICE_UNAVAILABLE
* S3:REQUEST_TIME_TOO_SKEWED
* S3:INVALID_STORAGE_CLASS
* S3:MAX_MESSAGE_LENGTH_EXCEEDED
* S3:REQUEST_IS_NOT_MULTI_PART_CONTENT
* S3:UNEXPECTED_CONTENT
* S3:NO_SUCH_BUCKET
* S3:ENTITY_TOO_SMALL
* S3:INVALID_SOAP_REQUEST
* S3:INVALID_PART
* S3:METADATA_TOO_LARGE
* S3:NO_SUCH_VERSION
* S3:PRECONDITION_FAILED
* S3:BUCKET_ALREADY_EXISTS
* S3:MISSING_SECURITY_ELEMENT
* S3:AMBIGUOUS_GRANT_BY_EMAIL_ADDRESS
* S3:INVALID_URI
* S3:NOT_SIGNED_UP
* S3:INVALID_ADDRESSING_HEADER
* S3:MAX_POST_PRE_DATA_LENGTH_EXCEEDED_ERROR
* S3:ILLEGAL_VERSIONING_CONFIGURATION_EXCEPTION
* S3:INVALID_PAYER
* S3:INVALID_SECURITY
* S3:NO_SUCH_BUCKET_POLICY
* S3:OPERATION_ABORTED
* S3:INVALID_ACCESS_KEY_ID
* S3:INVALID_LOCATION_CONSTRAINT
* S3:INLINE_DATA_TOO_LARGE
* S3:SIGNATURE_DOES_NOT_MATCH
* S3:UNRESOLVABLE_GRANT_BY_EMAIL_ADDRESS
* S3:NO_SUCH_LIFECYCLE_CONFIGURATION
* S3:KEY_TOO_LONG
* S3:INVALID_BUCKET_NAME
* S3:INVALID_TOKEN
* S3:TEMPORARY_REDIRECT
* S3:BUCKET_NOT_EMPTY
* S3:MALFORMED_POST_REQUEST
* S3:BAD_DIGEST
* S3:CROSS_LOCATION_LOGGING_PROHIBITED
* S3:REQUEST_TIMEOUT
* S3:TOO_MANY_BUCKETS
* S3:NO_SUCH_KEY
* S3:MISSING_ATTACHMENT
* S3:INVALID_BUCKET_STATE
* S3:RETRY_EXHAUSTED
* S3:INVALID_PART_ORDER
* S3:INVALID_RESPONSE_PRESIGNEDURL_MALFORMED
* S3:INVALID_POLICY_DOCUMENT
* S3:MALFORMED_XML
* S3:ACCOUNT_PROBLEM
* S3:USER_KEY_MUST_BE_SPECIFIED
* S3:MISSING_CONTENT_LENGTH
* S3:INVALID_DIGEST
* S3:ACCESS_DENIED
* S3:MISSING_REQUEST_BODY_ERROR
* S3:REQUEST_TORRENT_OF_BUCKET_ERROR
* S3:TOKEN_REFRESH_REQUIRED
* S3:RESTORE_ALREADY_IN_PROGRESS
* S3:NO_LOGGING_STATUS_FOR_KEY
* S3:INVALID_OBJECT_STATE
* S3:CONNECTIVITY
* S3:INVALID_ENCRYPTION_ALGORITHM_ERROR
* S3:PERMANENT_REDIRECT
* S3:INVALID_REQUEST
* S3:INCORRECT_NUMBER_OF_FILES_IN_POST_REQUEST
* S3:UNKNOWN
* S3:MALFORMED_ACL_ERROR
* S3:CREDENTIALS_NOT_SUPPORTED
* S3:NOT_IMPLEMENTED
* S3:INVALID_TARGET_BUCKET_FOR_LOGGING
* S3:INVALID_ARGUMENT
* S3:NO_SUCH_UPLOAD
* S3:INTERNAL_ERROR
* S3:SLOW_DOWN
* S3:METHOD_NOT_ALLOWED
* S3:ENTITY_TOO_LARGE
* S3:EXPIRED_TOKEN
* S3:MISSING_SECURITY_HEADER
* S3:BUCKET_ALREADY_OWNED_BY_YOU
* S3:INCOMPLETE_BODY


[[createObject]]
=== Create Object
`<s3:create-object>`

Uploads an object to S3. Supported contents are input streams, strings, byte arrays, and files.

==== Parameters
[%header,cols="20s,20a,35a,20a,5a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Bucket Name a| String |  The object's bucket. |  | x
| Key a| String |  The object's key. |  | x
| Object Content a| Binary |  The content to be uploaded to S3, capable of creating a PutObjectRequest. |  #[payload] |
| Canned ACL a| Enumeration, one of:

** PRIVATE
** PUBLIC_READ
** PUBLIC_READ_WRITE
** AUTHENTICATED_READ
** LOG_DELIVERY_WRITE
** BUCKET_OWNER_READ
** BUCKET_OWNER_FULL_CONTROL |  The access control list of the new object. |  PRIVATE |
| Kms Master Key a| String |  Encrypt objects uploaded to S3 buckets with the AWS KMS master key. |  |
| User Metadata a| Object |  |  |
| Last Modified a| DateTime |  |  |
| Content Length a| Number |  The Content-Length HTTP header that indicates the size of the associated object in bytes. |  0 |
| Content Type a| String |  The Content-Type HTTP header that indicates the type of content stored in the associated object. |  |
| Content Language a| String |  The Content-Language HTTP header that describes the natural languages of the intended audience for the enclosed entity. |  |
| Content Encoding a| String |  The optional Content-Encoding HTTP header specifying what content encodings have been applied to the object and what decoding mechanisms must be applied to obtain the media-type referenced by the Content-Type field. |  |
| Cache Control a| String |  The optional Cache-Control HTTP header, which allows the user to specify caching behavior along the HTTP request/reply chain. |  |
| Content MD5 a| String |  The base64 encoded 128-bit MD5 digest of the associated object (content - not including headers) according to RFC 1864. |  |
| Content Disposition a| String |  The optional Content-Disposition HTTP header, which specifies presentational information such as the recommended filename for the saved object. |  |
| Etag a| String |  The entity tag is a hash of the object. |  |
| Version Id a| String |  The version ID of the associated Amazon S3 object, if available. |  |
| Sse Algorithm a| String |  Specifies the server-side encryption algorithm to use when Amazon S3 creates an object. |  |
| Sse Customer Algorithm a| String |  Specifies the algorithm to use to when encrypting the object. |  |
| Sse Customer Key Md5 a| String |  Specifies the base64-encoded 128-bit MD5 digest of the encryption key according to RFC 1321. Amazon S3 uses this header for a message integrity check to ensure that the encryption key was transmitted without error. |  |
| Expiration Time a| DateTime |  The expiration time for the object. |  |
| Expiration Time Rule Id a| String |  The rule ID of the object's expiration configuration. |  |
| Restore Expiration Time a| DateTime |  The new restore expiration time for the object. |  |
| Ongoing Restore a| Boolean |  Sets the boolean value, which indicates whether there is an ongoing restore request. |  false |
| Http Expires Date a| DateTime |  Set the date when the object is no longer cacheable. |  |
| Storage Class a| Enumeration, one of:

** STANDARD
** STANDARD_IA
** INTELLIGENT_TIERING
** ONEZONE_IA
** REDUCED_REDUNDANCY
** GLACIER |  The storage class of the object. |  STANDARD |
| Sse Aws Kms Key Id a| String |  The AWS Key Management System key ID used for the server-side encryption of the Amazon S3 object. |  |
| Requester Charged a| Boolean |  If a bucket is enabled for Requester Pays, then any attempt of operation from it without Requester Pays enabled results in a 403 error. The bucket owner is charged for the request. Enabling Requester Pays disables the ability to have anonymous access to bucket. |  false |
| Replication Status a| String |  The replication status of the object, if it is from a bucket that is the source or destination in a cross-region replication. |  |
| Target Variable a| String |  The name of a variable to store the operation's output. |  |
| Target Value a| String |  An expression to evaluate against the operation's output and store the expression outcome in the target variable. |  #[payload] |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===

==== Output
[%autowidth.spread]
|===
|Type |<<ObjectResult>>
|===

=== For Configurations
* <<config>>

==== Throws
* S3:INVALID_RANGE
* S3:REDIRECT
* S3:SERVICE_UNAVAILABLE
* S3:REQUEST_TIME_TOO_SKEWED
* S3:INVALID_STORAGE_CLASS
* S3:MAX_MESSAGE_LENGTH_EXCEEDED
* S3:REQUEST_IS_NOT_MULTI_PART_CONTENT
* S3:UNEXPECTED_CONTENT
* S3:NO_SUCH_BUCKET
* S3:ENTITY_TOO_SMALL
* S3:INVALID_SOAP_REQUEST
* S3:INVALID_PART
* S3:METADATA_TOO_LARGE
* S3:NO_SUCH_VERSION
* S3:PRECONDITION_FAILED
* S3:BUCKET_ALREADY_EXISTS
* S3:MISSING_SECURITY_ELEMENT
* S3:AMBIGUOUS_GRANT_BY_EMAIL_ADDRESS
* S3:INVALID_URI
* S3:NOT_SIGNED_UP
* S3:INVALID_ADDRESSING_HEADER
* S3:MAX_POST_PRE_DATA_LENGTH_EXCEEDED_ERROR
* S3:ILLEGAL_VERSIONING_CONFIGURATION_EXCEPTION
* S3:INVALID_PAYER
* S3:INVALID_SECURITY
* S3:NO_SUCH_BUCKET_POLICY
* S3:OPERATION_ABORTED
* S3:INVALID_ACCESS_KEY_ID
* S3:INVALID_LOCATION_CONSTRAINT
* S3:INLINE_DATA_TOO_LARGE
* S3:SIGNATURE_DOES_NOT_MATCH
* S3:UNRESOLVABLE_GRANT_BY_EMAIL_ADDRESS
* S3:NO_SUCH_LIFECYCLE_CONFIGURATION
* S3:KEY_TOO_LONG
* S3:INVALID_BUCKET_NAME
* S3:INVALID_TOKEN
* S3:TEMPORARY_REDIRECT
* S3:BUCKET_NOT_EMPTY
* S3:MALFORMED_POST_REQUEST
* S3:BAD_DIGEST
* S3:CROSS_LOCATION_LOGGING_PROHIBITED
* S3:REQUEST_TIMEOUT
* S3:TOO_MANY_BUCKETS
* S3:NO_SUCH_KEY
* S3:MISSING_ATTACHMENT
* S3:INVALID_BUCKET_STATE
* S3:RETRY_EXHAUSTED
* S3:INVALID_PART_ORDER
* S3:INVALID_RESPONSE_PRESIGNEDURL_MALFORMED
* S3:INVALID_POLICY_DOCUMENT
* S3:MALFORMED_XML
* S3:ACCOUNT_PROBLEM
* S3:USER_KEY_MUST_BE_SPECIFIED
* S3:MISSING_CONTENT_LENGTH
* S3:INVALID_DIGEST
* S3:ACCESS_DENIED
* S3:MISSING_REQUEST_BODY_ERROR
* S3:REQUEST_TORRENT_OF_BUCKET_ERROR
* S3:TOKEN_REFRESH_REQUIRED
* S3:RESTORE_ALREADY_IN_PROGRESS
* S3:NO_LOGGING_STATUS_FOR_KEY
* S3:INVALID_OBJECT_STATE
* S3:CONNECTIVITY
* S3:INVALID_ENCRYPTION_ALGORITHM_ERROR
* S3:PERMANENT_REDIRECT
* S3:INVALID_REQUEST
* S3:INCORRECT_NUMBER_OF_FILES_IN_POST_REQUEST
* S3:UNKNOWN
* S3:MALFORMED_ACL_ERROR
* S3:CREDENTIALS_NOT_SUPPORTED
* S3:NOT_IMPLEMENTED
* S3:INVALID_TARGET_BUCKET_FOR_LOGGING
* S3:INVALID_ARGUMENT
* S3:NO_SUCH_UPLOAD
* S3:INTERNAL_ERROR
* S3:SLOW_DOWN
* S3:METHOD_NOT_ALLOWED
* S3:ENTITY_TOO_LARGE
* S3:EXPIRED_TOKEN
* S3:MISSING_SECURITY_HEADER
* S3:BUCKET_ALREADY_OWNED_BY_YOU
* S3:INCOMPLETE_BODY


[[createObjectPresignedUri]]
=== Create Object Presigned Uri
`<s3:create-object-presigned-uri>`

Returns a pre-signed URL for accessing an Amazon S3 object. The pre-signed URL can be shared to other users, allowing access to the resource without providing an account's AWS security credentials.

==== Parameters
[%header,cols="20s,20a,35a,20a,5a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Bucket Name a| String |  The name of the bucket involved in this request. |  | x
| Key a| String |  The key of the object involved in this request. |  | x
| Expiration a| DateTime |  The expiration date, in milliseconds, at which point the new pre-signed URL will no longer be accepted by Amazon S3. | 900000 (15 minutes) |
| Content MD5 a| String |  The expected content-md5 header of the request. |  |
| Content Type a| String |  The expected content-type of the request. |  |
| Method a| Enumeration, one of:

** GET
** POST
** PUT
** DELETE
** HEAD
** PATCH |  The HTTP method (GET, PUT, DELETE, HEAD) to use in this request. |  PUT |
| Sse S3 Encryption a| Enumeration, one of:

** AES256
** KMS |  The encryption method (KMS, AES256) to                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                EADY_EXISTS
* S3:MISSING_SECURITY_ELEMENT
* S3:AMBIGUOUS_GRANT_BY_EMAIL_ADDRESS
* S3:INVALID_URI
* S3:NOT_SIGNED_UP
* S3:INVALID_ADDRESSING_HEADER
* S3:MAX_POST_PRE_DATA_LENGTH_EXCEEDED_ERROR
* S3:ILLEGAL_VERSIONING_CONFIGURATION_EXCEPTION
* S3:INVALID_PAYER
* S3:INVALID_SECURITY
* S3:NO_SUCH_BUCKET_POLICY
* S3:OPERATION_ABORTED
* S3:INVALID_ACCESS_KEY_ID
* S3:INVALID_LOCATION_CONSTRAINT
* S3:INLINE_DATA_TOO_LARGE
* S3:SIGNATURE_DOES_NOT_MATCH
* S3:UNRESOLVABLE_GRANT_BY_EMAIL_ADDRESS
* S3:NO_SUCH_LIFECYCLE_CONFIGURATION
* S3:KEY_TOO_LONG
* S3:INVALID_BUCKET_NAME
* S3:INVALID_TOKEN
* S3:TEMPORARY_REDIRECT
* S3:BUCKET_NOT_EMPTY
* S3:MALFORMED_POST_REQUEST
* S3:BAD_DIGEST
* S3:CROSS_LOCATION_LOGGING_PROHIBITED
* S3:REQUEST_TIMEOUT
* S3:TOO_MANY_BUCKETS
* S3:NO_SUCH_KEY
* S3:MISSING_ATTACHMENT
* S3:INVALID_BUCKET_STATE
* S3:RETRY_EXHAUSTED
* S3:INVALID_PART_ORDER
* S3:INVALID_RESPONSE_PRESIGNEDURL_MALFORMED
* S3:INVALID_POLICY_DOCUMENT
* S3:MALFORMED_XML
* S3:ACCOUNT_PROBLEM
* S3:USER_KEY_MUST_BE_SPECIFIED
* S3:MISSING_CONTENT_LENGTH
* S3:INVALID_DIGEST
* S3:ACCESS_DENIED
* S3:MISSING_REQUEST_BODY_ERROR
* S3:REQUEST_TORRENT_OF_BUCKET_ERROR
* S3:TOKEN_REFRESH_REQUIRED
* S3:RESTORE_ALREADY_IN_PROGRESS
* S3:NO_LOGGING_STATUS_FOR_KEY
* S3:INVALID_OBJECT_STATE
* S3:CONNECTIVITY
* S3:INVALID_ENCRYPTION_ALGORITHM_ERROR
* S3:PERMANENT_REDIRECT
* S3:INVALID_REQUEST
* S3:INCORRECT_NUMBER_OF_FILES_IN_POST_REQUEST
* S3:UNKNOWN
* S3:MALFORMED_ACL_ERROR
* S3:CREDENTIALS_NOT_SUPPORTED
* S3:NOT_IMPLEMENTED
* S3:INVALID_TARGET_BUCKET_FOR_LOGGING
* S3:INVALID_ARGUMENT
* S3:NO_SUCH_UPLOAD
* S3:INTERNAL_ERROR
* S3:SLOW_DOWN
* S3:METHOD_NOT_ALLOWED
* S3:ENTITY_TOO_LARGE
* S3:EXPIRED_TOKEN
* S3:MISSING_SECURITY_HEADER
* S3:BUCKET_ALREADY_OWNED_BY_YOU
* S3:INCOMPLETE_BODY


[[deleteBucketCorsConfiguration]]
=== Delete Bucket Cors Configuration
`<s3:delete-bucket-cors-configuration>`


Deletes the Cross Origin Configuration information set for the bucket. To use this operation, you must have permission to perform the s3:PutCORSConfiguration action. The bucket owner has this permission by default and can grant this permission to others.


==== Parameters
[%header,cols="20s,20a,35a,20a,5a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Bucket Name a| String |  The bucket to delete Cross Origin Configuration. |  | x
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===


=== For Configurations
* <<config>>

==== Throws
* S3:INVALID_RANGE
* S3:REDIRECT
* S3:SERVICE_UNAVAILABLE
* S3:REQUEST_TIME_TOO_SKEWED
* S3:INVALID_STORAGE_CLASS
* S3:MAX_MESSAGE_LENGTH_EXCEEDED
* S3:REQUEST_IS_NOT_MULTI_PART_CONTENT
* S3:UNEXPECTED_CONTENT
* S3:NO_SUCH_BUCKET
* S3:ENTITY_TOO_SMALL
* S3:INVALID_SOAP_REQUEST
* S3:INVALID_PART
* S3:METADATA_TOO_LARGE
* S3:NO_SUCH_VERSION
* S3:PRECONDITION_FAILED
* S3:BUCKET_ALREADY_EXISTS
* S3:MISSING_SECURITY_ELEMENT
* S3:AMBIGUOUS_GRANT_BY_EMAIL_ADDRESS
* S3:INVALID_URI
* S3:NOT_SIGNED_UP
* S3:INVALID_ADDRESSING_HEADER
* S3:MAX_POST_PRE_DATA_LENGTH_EXCEEDED_ERROR
* S3:ILLEGAL_VERSIONING_CONFIGURATION_EXCEPTION
* S3:INVALID_PAYER
* S3:INVALID_SECURITY
* S3:NO_SUCH_BUCKET_POLICY
* S3:OPERATION_ABORTED
* S3:INVALID_ACCESS_KEY_ID
* S3:INVALID_LOCATION_CONSTRAINT
* S3:INLINE_DATA_TOO_LARGE
* S3:SIGNATURE_DOES_NOT_MATCH
* S3:UNRESOLVABLE_GRANT_BY_EMAIL_ADDRESS
* S3:NO_SUCH_LIFECYCLE_CONFIGURATION
* S3:KEY_TOO_LONG
* S3:INVALID_BUCKET_NAME
* S3:INVALID_TOKEN
* S3:TEMPORARY_REDIRECT
* S3:BUCKET_NOT_EMPTY
* S3:MALFORMED_POST_REQUEST
* S3:BAD_DIGEST
* S3:CROSS_LOCATION_LOGGING_PROHIBITED
* S3:REQUEST_TIMEOUT
* S3:TOO_MANY_BUCKETS
* S3:NO_SUCH_KEY
* S3:MISSING_ATTACHMENT
* S3:INVALID_BUCKET_STATE
* S3:RETRY_EXHAUSTED
* S3:INVALID_PART_ORDER
* S3:INVALID_RESPONSE_PRESIGNEDURL_MALFORMED
* S3:INVALID_POLICY_DOCUMENT
* S3:MALFORMED_XML
* S3:ACCOUNT_PROBLEM
* S3:USER_KEY_MUST_BE_SPECIFIED
* S3:MISSING_CONTENT_LENGTH
* S3:INVALID_DIGEST
* S3:ACCESS_DENIED
* S3:MISSING_REQUEST_BODY_ERROR
* S3