= Microsoft Dynamics CRM Connector 3.2 Reference
:page-aliases: connectors::ms-dynamics/ms-dynamics-crm-connector-reference.adoc

Anypoint Connector for Microsoft Dynamics CRM (Microsoft Dynamics CRM Connector) enables the integration of data to and from Microsoft Dynamics CRM systems.

[NOTE]
Microsoft Dynamics CRM Connector 3.2.15 and later supports Java 17, but with some environment setup restrictions for the Kerberos connection type. Specifically, the CRM instance must be configured to support more secure encryption types (`aes128-cts-hmac-sha1-96` or `aes128-cts-hmac-sha256-128`), as Java 17 enforces these by default. Alternatively, you can set the `allow_weak_crypto` flag to `true` in the `krb5.conf` file as a workaround.

[[dynamics-crm-config]]
== Dynamics CRM Configurations


=== Parameters
[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
|Name | String | The name for this configuration. Connectors reference the configuration with this name. | | x
| Connection a| * <<dynamics-crm-config_claims, Claims>>
* <<dynamics-crm-config_kerberos, Kerberos>>
* <<dynamics-crm-config_ntlm, Ntlm>>
* <<dynamics-crm-config_online, Online>>
 | The connection types to provide to this configuration. | | x
| Expiration Policy a| <<ExpirationPolicy>> |  Configures the minimum amount of time that a dynamic configuration instance can remain idle before Mule considers it eligible for expiration. This does not mean that the instance expires at the exact moment that it becomes eligible. Mule purges the instances as appropriate. |  |
|===

== Connection Types

[[dynamics-crm-config_claims]]
=== Claims

This authentication method includes directory sources that contain additional information (claims) about users to verify their identity.

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Username a| String |  Username to connect to Dynamics CRM. |  | x
| Password a| String |  Microsoft Windows password to connect to Dynamics NAV. |  | x
| Organization Service Url a| String |  Base URL where the SOAP services are exposed in the form `+https://<Server>:<WebServicePort>/<ServerInstance>/WS+`, for example: `+https://hostname:7047/DynamicsNAV90/WS+` |  | x
| Disable Cn Check a| Boolean |  Disable SSL certificate validation. |  false |
| Read Timeout a| Number |  Specifies the amount of time in milliseconds that the consumer waits for a response before it times out. Default value is 0, which means infinite. |  0 |
| Connection Timeout a| Number |  Specifies the amount of time in milliseconds that the consumer attempts to establish a connection before it times out. Default value is 0, which means infinite. |  0 |
| Enable Logging a| Boolean |  If this is `true`, requests and responses display in console log. |  `false` |
| Host a| String |  Hostname of the proxy. If this property is not set, then no proxy is used, otherwise a proxy is used, but a proxy host must be specified. |  |
| Port a| Number |  Port of the proxy. If host is set, then this property must be set and cannot be a negative number. |  |
| Username a| String |  Username used to authenticate against the proxy. If this property is not set, then no authentication is going to be uses for the proxy, otherwise this value must be specified. |  |
| Password a| String |  Password used to authenticate against the proxy. |  |
| Reconnection a| <<Reconnection>> |  When the application is deployed, a connectivity test is performed on all connectors. If set to `true`, deployment fails if the test doesn't pass after exhausting the associated reconnection strategy. |  |
| Pooling Profile a| <<PoolingProfile>> |  Characteristics of the connection pool. |  |
|===

[[dynamics-crm-config_kerberos]]
=== Kerberos

Clients obtain tickets from the Kerberos Key Distribution Center (KDC) and present the tickets to the server when the connection is established.

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Username a| String |  Username that you want to login with. Domain should not be included. |  | x
| Password a| String |  Password for the user that you are going to login. |  | x
| Organization Service Url a| String |  URL for the SharePoint instance that the connector is going to interact with. |  | x
| SPN a| String |  Service Principal Names (SPN) for the SharePoint web service. |  |
| Realm a| String |  The case-sensitive default realm (domain name) that the user belongs to. |  |
| KDC a| String |  The Key Distribution Center (KDC), usually the domain controller name, to authenticate the user. |  |
| Login Properties File Path a| String |  Path to a customized login properties file. When not specified, default values which usually work for most cases are set up. |  |
| Kerberos Properties File Path a| String |  Path to a customized Kerberos properties file. |  |
| Disable SSL certificate validation a| Boolean |  When dealing with HTTPS certificates, if the certificate is not signed by a trusted partner, the server might respond with an exception.  To prevent this, you can disable the Common Name (CN) check.  *Note:* This is not recommended for production environments. |  `false` |
| Host a| String |  Hostname of the proxy. If this property is not set, then no proxy is used, otherwise a proxy is used, but a proxy host must be specified. |  |
| Port a| Number |  Port of the proxy. If a *Host* value is set, then this property must be set and cannot be a negative number. |  |
| Username a| String |  Username used to authenticate against the proxy. If this property is not set, then no authentication is used with the proxy, otherwise this value must be specified. |  |
| Password a| String |  Password used to authenticate against the proxy. |  |
| Read Timeout a| Number |  Specifies the amount of time in milliseconds that the consumer waits for a response before it times out. Default value is 0, which means infinite. |  0 |
| Connection Timeout a| Number |  Specifies the amount of time in milliseconds that the consumer attempts to establish a connection before it times out. Default value is 0, which means infinite. |  0 |
| Enable Logging a| Boolean |  If this is `true`, requests and responses display in the console log. |  `false` |
| Reconnection a| <<Reconnection>> |  When the application is deployed, a connectivity test is performed on all connectors. If set to `true`, deployment fails if the test doesn't pass after exhausting the associated reconnection strategy. |  |
| Pooling Profile a| <<PoolingProfile>> |  Characteristics of the connection pool |  |
|===

[[dynamics-crm-config_ntlm]]
=== NTLM

This authentication type is used on networks that include systems running on both Windows and stand-alone systems and uses an encrypted challenge-response protocol to authenticate the user.

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Username a| String |  Username to connect to Dynamics CRM. |  | x
| Password a| String |  The Windows password to connect to Dynamics NAV. |  | x
| Organization Service Url a| String |  Base URL where the SOAP services are exposed in the form `+https://<Server>:<WebServicePort>/<ServerInstance>/WS+`. Example: `+https://hostname:7047/DynamicsNAV90/WS+` |  | x
| Disable Cn Check a| Boolean |  Disable SSL certificate validation. |  `false` |
| Gateway Router Service Address a| String |  Gateway router service address. |  |
| Read Timeout a| Number |  Specifies the amount of time in milliseconds that the consumer waits for a response before it times out. Default value is 0, which means infinite. |  0 |
| Connection Timeout a| Number |  Specifies the amount of time in milliseconds that the consumer attempts to establish a connection before it times out. Default value is 0, which means infinite. |  0 |
| Enable Logging a| Boolean |  If this is true, requests and responses display in the console log. |  false |
| Host a| String |  Hostname of the proxy. If this property is not set, then no proxy is used, otherwise a proxy is used, but a proxy host must be specified. |  |
| Port a| Number |  Port of the proxy. If a *Host* value is set, then this property must be set and cannot be a negative number. |  |
| Username a| String |  Username used to authenticate against the proxy. If this property is not set, then no authentication is going to use against the proxy, otherwise this value must be specified. |  |
| Password a| String |  Password used to authenticate against the proxy. |  |
| Reconnection a| <<Reconnection>> |  When the application is deployed, a connectivity test is performed on all connectors. If set to `true`, deployment fails if the test doesn't pass after exhausting the associated reconnection strategy. |  |
| Pooling Profile a| <<PoolingProfile>> |  Characteristics of the connection pool. |  |
|===

[[dynamics-crm-config_online]]
=== Online


[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Username a| String |  Username to connect to Dynamics CRM |  | x
| Password a| String |  Windows password to connect to Dynamics NAV |  | x
| Organization Service Url a| String |  Base URL where the SOAP services are exposed in the form `+https://<Server>:<WebServicePort>/<ServerInstance>/WS+`. Example: `+https://hostname:7047/DynamicsNAV90/WS+` |  | x
| Disable Cn Check a| Boolean |  Disable SSL certificate validation. |  `false` |
| Authentication Retries a| Number |  If the authentication process to Microsoft fails the first time, the connector attempts to re-authenticate this many times. |  | x
| Read Timeout a| Number |  Specifies the amount of time in milliseconds that the consumer waits for a response before it times out. Default value is 0, which means infinite. |  0 |
| Connection Timeout a| Number |  Specifies the amount of time in milliseconds that the consumer attempts to establish a connection before it times out. Default value is 0, which means infinite. |  0 |
| Enable Logging a| Boolean |  If this is `true`, requests and responses display in the console log. |  false |
| Host a| String |  Hostname of the proxy. If this property is not set, then no proxy is used, otherwise a proxy is used, but a proxy host must be specified. |  |
| Port a| Number |  Port of the proxy. If a *Host* value is set, this property must be set and cannot be a negative number. |  |
| Username a| String |  Username used to authenticate against the proxy. If this property is not set, then no authentication is going to use against the proxy, otherwise this value must be specified. |  |
| Password a| String |  Password used to authenticate against the proxy. |  |
| Sts Metadata Url a| String |  The security token service's metadata exchange URL. For Active Directory federation services (ADFS), this is usually `+https://mycompany-sts.com/adfs/services/trust/mex+`. |  |
| Sts Username Port Qname a| String |  The name of port that accepts username and password credentials as described in the STS's metadata exchange URL. This value has to be specified as a QName in the format `+{http://schemas.microsoft.com/ws/2008/06/identity/securitytokenservice}UserNameWSTrustBinding_IWSTrust13Async+`. |  |
| Reconnection a| <<Reconnection>> |  When the application is deployed, a connectivity test is performed on all connectors. If set to `true`, deployment fails if the test doesn't pass after exhausting the associated reconnection strategy. |  |
| Pooling Profile a| <<PoolingProfile>> |  Characteristics of the connection pool |  |
|===

== Sources

* <<deleted-object>>
* <<modified-object>>
* <<new-object>>

[NOTE]
Microsoft Dynamics CRM Connector sources (listeners) use Object Store to save watermarks. You might experience limitations that are specific to the Object Store implementation you are using (Object Store for CloudHub deployments or Object Store for on-premises deployments), so configure Object Store to suit your needs. +
For more information, see https://help.mulesoft.com/s/article/The-Different-Types-of-Object-Stores-Explained[The Different Types of Object Stores Explained].

[[deleted-object]]
=== Deleted Object

`<microsoft-dynamics-crm:deleted-object>`


==== Parameters
[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Since a| String |  Required date format is `'yyyy-MM-dd'T'HH:mm:ss'Z'` |  |
| Field Type a| String |  |  | x
| Primary Node Only a| Boolean |  Whether this source should only be executed on the primary node when running in a cluster. |  |
| Scheduling Strategy a| scheduling-strategy |  Configures the scheduler that triggers the polling |  | x
| Redelivery Policy a| <<RedeliveryPolicy>> |  Defines a policy for processing the redelivery of the same message |  |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===

==== Output
[%autowidth.spread]
|===
|Type |Object
| Attributes Type a| Any
|===

=== For Configurations
* <<dynamics-crm-config>>



[[modified-object]]
=== Modified Object
`<microsoft-dynamics-crm:modified-object>`


==== Parameters
[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Since a| String |  Required date format is `'yyyy-MM-dd'T'HH:mm:ss'Z'` |  |
| Field Type a| String |  |  | x
| Primary Node Only a| Boolean |  Whether this source should only be executed on the primary node when running in a cluster. |  |
| Scheduling Strategy a| scheduling-strategy |  Configures the scheduler that triggers the polling |  | x
| Redelivery Policy a| <<RedeliveryPolicy>> |  Defines a policy for processing the redelivery of the same message |  |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===

==== Output
[%autowidth.spread]
|===
|Type |Object
| Attributes Type a| Any
|===

=== For Configurations
* <<dynamics-crm-config>>



[[new-object]]
=== New Object
`<microsoft-dynamics-crm:new-object>`


==== Parameters
[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Since a| String |  Required date format is `'yyyy-MM-dd'T'HH:mm:ss'Z'` |  |
| Field Type a| String |  |  | x
| Primary Node Only a| Boolean |  Whether this source should only be executed on the primary node when running in a cluster. |  |
| Scheduling Strategy a| scheduling-strategy |  Configures the scheduler that triggers the polling. |  | x
| Redelivery Policy a| <<RedeliveryPolicy>> |  Defines a policy for processing the redelivery of the same message. |  |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===

==== Output
[%autowidth.spread]
|===
|Type |Object
| Attributes Type a| Any
|===

=== For Configurations
* <<dynamics-crm-config>>


== Operations

Supported operations:

* <<associate>>
* <<create>>
* <<createMultiple>>
* <<delete>>
* <<deleteMultiple>>
* <<disassociate>>
* <<execute>>
* <<executeMultiple>>
* <<retrieve>>
* <<retrieveMultipleByQuery>>
* <<update>>
* <<updateMultiple>>




[[associate]]
=== Associate
`<microsoft-dynamics-crm:associate>`

Create links between records.

==== Parameters

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Logical Name a| String |  The logical name of the entity. |  | x
| Id a| String |  The ID of the record to which the related records are associated. |  | x
| Relationship Entity Role Is Referenced a| Boolean |

* `false`: When the primary entity record is referencing the record to associate.
* `true`: When the primary entity record is referenced by the record to associate. |  false |
| Relationship Schema Name a| String |  The name of the relationship to create the link. |  | x
| Related Entities IDs a| Array of String |  A List<String> with the related entity records IDs to associate. |  | x
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===


=== For Configurations

* <<dynamics-crm-config>>

==== Throws

* MICROSOFT-DYNAMICS-CRM:CONNECTIVITY
* MICROSOFT-DYNAMICS-CRM:INCOMPLETE_WSDL
* MICROSOFT-DYNAMICS-CRM:INVALID_CERTIFICATE
* MICROSOFT-DYNAMICS-CRM:INVALID_CREDENTIALS
* MICROSOFT-DYNAMICS-CRM:INVALID_CRYPTOGRAPHIC_ALGORITHM
* MICROSOFT-DYNAMICS-CRM:INVALID_JDK_VERSION
* MICROSOFT-DYNAMICS-CRM:INVALID_SESSION
* MICROSOFT-DYNAMICS-CRM:INVALID_URL
* MICROSOFT-DYNAMICS-CRM:RETRY_EXHAUSTED
* MICROSOFT-DYNAMICS-CRM:TRANSACTION
* MICROSOFT-DYNAMICS-CRM:TRANSFORMATION
* MICROSOFT-DYNAMICS-CRM:UNKNOWN
* MICROSOFT-DYNAMICS-CRM:VALIDATION


[[create]]
=== Create
`<microsoft-dynamics-crm:create>`

Create a new record.

==== Parameters

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Logical Name a| String |  The logical name of the entity. |  | x
| Attributes a| Object |  The attributes of the record as a `Map<String, Object>`. |  `#[payload]` |
| Target Variable a| String |  The name of a variable to store the operation's output. |  |
| Target Value a| String |  An expression to evaluate against the operation's output and store the expression outcome in the target variable |  `#[payload]` |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===

==== Output
[%autowidth.spread]
|===
|Type |String
|===

=== For Configurations
* <<dynamics-crm-config>>

==== Throws

* MICROSOFT-DYNAMICS-CRM:CONNECTIVITY
* MICROSOFT-DYNAMICS-CRM:INCOMPLETE_WSDL
* MICROSOFT-DYNAMICS-CRM:INVALID_CERTIFICATE
* MICROSOFT-DYNAMICS-CRM:INVALID_CREDENTIALS
* MICROSOFT-DYNAMICS-CRM:INVALID_CRYPTOGRAPHIC_ALGORITHM
* MICROSOFT-DYNAMICS-CRM:INVALID_JDK_VERSION
* MICROSOFT-DYNAMICS-CRM:INVALID_SESSION
* MICROSOFT-DYNAMICS-CRM:INVALID_URL
* MICROSOFT-DYNAMICS-CRM:RETRY_EXHAUSTED
* MICROSOFT-DYNAMICS-CRM:TRANSACTION
* MICROSOFT-DYNAMICS-CRM:TRANSFORMATION
* MICROSOFT-DYNAMICS-CRM:UNKNOWN
* MICROSOFT-DYNAMICS-CRM:VALIDATION


[[createMultiple]]
=== Create Multiple
`<microsoft-dynamics-crm:create-multiple>`

Create multiple new records.

==== Parameters

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Logical Name a| String |  The logical name of the entity. |  | x
| List Of Attributes a| Array of Object |  The list of attributes of the record as a `List<Map<String, Object>>`. |  `#[payload]` |
| Use Single Transaction a| Boolean |  If supported (CRM 2016 and above), use a single transaction to create all items, if anyone fails then rollback all. |  false |
| Target Variable a| String |  The name of a variable to store the operation's output. |  |
| Target Value a| String |  An expression to evaluate against the operation's output and store the expression outcome in the target variable |  `#[payload]` |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===

==== Output
[%autowidth.spread]
|===
|Type |<<BulkOperationResult>>
|===

=== For Configurations
* <<dynamics-crm-config>>

==== Throws
* MICROSOFT-DYNAMICS-CRM:CONNECTIVITY
* MICROSOFT-DYNAMICS-CRM:INCOMPLETE_WSDL
* MICROSOFT-DYNAMICS-CRM:INVALID_CERTIFICATE
* MICROSOFT-DYNAMICS-CRM:INVALID_CREDENTIALS
* MICROSOFT-DYNAMICS-CRM:INVALID_CRYPTOGRAPHIC_ALGORITHM
* MICROSOFT-DYNAMICS-CRM:INVALID_JDK_VERSION
* MICROSOFT-DYNAMICS-CRM:INVALID_SESSION
* MICROSOFT-DYNAMICS-CRM:INVALID_URL
* MICROSOFT-DYNAMICS-CRM:RETRY_EXHAUSTED
* MICROSOFT-DYNAMICS-CRM:TRANSACTION
* MICROSOFT-DYNAMICS-CRM:TRANSFORMATION
* MICROSOFT-DYNAMICS-CRM:UNKNOWN
* MICROSOFT-DYNAMICS-CRM:VALIDATION


[[delete]]
=== Delete
`<microsoft-dynamics-crm:delete>`

Delete a record.

==== Parameters
[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Logical Name a| String |  The logical name of the entity. |  | x
| Id a| String |  The ID of the record to delete. |  | x
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===


=== For Configurations
* <<dynamics-crm-config>>

==== Throws
* MICROSOFT-DYNAMICS-CRM:CONNECTIVITY
* MICROSOFT-DYNAMICS-CRM:INCOMPLETE_WSDL
* MICROSOFT-DYNAMICS-CRM:INVALID_CERTIFICATE
* MICROSOFT-DYNAMICS-CRM:INVALID_CREDENTIALS
* MICROSOFT-DYNAMICS-CRM:INVALID_CRYPTOGRAPHIC_ALGORITHM
* MICROSOFT-DYNAMICS-CRM:INVALID_JDK_VERSION
* MICROSOFT-DYNAMICS-CRM:INVALID_SESSION
* MICROSOFT-DYNAMICS-CRM:INVALID_URL
* MICROSOFT-DYNAMICS-CRM:RETRY_EXHAUSTED
* MICROSOFT-DYNAMICS-CRM:TRANSACTION
* MICROSOFT-DYNAMICS-CRM:TRANSFORMATION
* MICROSOFT-DYNAMICS-CRM:UNKNOWN
* MICROSOFT-DYNAMICS-CRM:VALIDATION


[[deleteMultiple]]
=== Delete Multiple
`<microsoft-dynamics-crm:delete-multiple>`

Delete multiple records.

==== Parameters
[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Logical Name a| String |  The logical name of the entity. |  | x
| IDs a| Array of String |  The IDs of the records to delete. |  | x
| Use Single Transaction a| Boolean |  If supported (CRM 2016 and above) use a single transaction to delete all items, if anyone fails then rollback all. |  false |
| Target Variable a| String |  The name of a variable to store the operation's output. |  |
| Target Value a| String |  An expression to evaluate against the operation's output and store the expression outcome in the target variable |  `#[payload]` |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===

==== Output
[%autowidth.spread]
|===
|Type |<<BulkOperationResult>>
|===

=== For Configurations
* <<dynamics-crm-config>>

==== Throws
* MICROSOFT-DYNAMICS-CRM:CONNECTIVITY
* MICROSOFT-DYNAMICS-CRM:INCOMPLETE_WSDL
* MICROSOFT-DYNAMICS-CRM:INVALID_CERTIFICATE
* MICROSOFT-DYNAMICS-CRM:INVALID_CREDENTIALS
* MICROSOFT-DYNAMICS-CRM:INVALID_CRYPTOGRAPHIC_ALGORITHM
* MICROSOFT-DYNAMICS-CRM:INVALID_JDK_VERSION
* MICROSOFT-DYNAMICS-CRM:INVALID_SESSION
* MICROSOFT-DYNAMICS-CRM:INVALID_URL
* MICROSOFT-DYNAMICS-CRM:RETRY_EXHAUSTED
* MICROSOFT-DYNAMICS-CRM:TRANSACTION
* MICROSOFT-DYNAMICS-CRM:TRANSFORMATION
* MICROSOFT-DYNAMICS-CRM:UNKNOWN
* MICROSOFT-DYNAMICS-CRM:VALIDATION


[[disassociate]]
=== Disassociate
`<microsoft-dynamics-crm:disassociate>`

Delete a link between records.

==== Parameters
[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Logical Name a| String |  The logical name of entity. |  | x
| Id a| String |  The ID of the record from which the related records are disassociated. |  | x
| Relationship Entity Role Is Referenced a| Boolean |  false: when the primary entity record is Referencing the record to associate; true: when the primary entity record is Referenced by the record to associate. |  false |
| Relationship Schema Name a| String |  The name of the relationship to delete the link. |  | x
| Related Entities IDs a| Array of String |  A List<String> with the related entity records IDs to disassociate. |  | x
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===


=== For Configurations
* <<dynamics-crm-config>>

==== Throws
* MICROSOFT-DYNAMICS-CRM:CONNECTIVITY
* MICROSOFT-DYNAMICS-CRM:INCOMPLETE_WSDL
* MICROSOFT-DYNAMICS-CRM:INVALID_CERTIFICATE
* MICROSOFT-DYNAMICS-CRM:INVALID_CREDENTIALS
* MICROSOFT-DYNAMICS-CRM:INVALID_CRYPTOGRAPHIC_ALGORITHM
* MICROSOFT-DYNAMICS-CRM:INVALID_JDK_VERSION
* MICROSOFT-DYNAMICS-CRM:INVALID_SESSION
* MICROSOFT-DYNAMICS-CRM:INVALID_URL
* MICROSOFT-DYNAMICS-CRM:RETRY_EXHAUSTED
* MICROSOFT-DYNAMICS-CRM:TRANSACTION
* MICROSOFT-DYNAMICS-CRM:TRANSFORMATION
* MICROSOFT-DYNAMICS-CRM:UNKNOWN
* MICROSOFT-DYNAMICS-CRM:VALIDATION


[[execute]]
=== Execute
`<microsoft-dynamics-crm:execute>`

Executes a message in the form of a request, and returns a response.

==== Parameters
[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Request Name a| String |  The logical name of request make. |  | x
| Request Parameters a| Any |  [DEPRECATED] This parameter will be removed from the configuration in the near future. Set the `#[payload]` correctly before calling the connector. |  `#[payload]` |
| Request Id a| String |  The ID of the request to make. |  |
| Target Variable a| String |  The name of a variable to store the operation's output. |  |
| Target Value a| String |  An expression to evaluate against the operation's output and store the expression outcome in the target variable |  `#[payload]` |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===

==== Output
[%autowidth.spread]
|===
|Type |Any
|===

=== For Configurations
* <<dynamics-crm-config>>

==== Throws
* MICROSOFT-DYNAMICS-CRM:CONNECTIVITY
* MICROSOFT-DYNAMICS-CRM:INCOMPLETE_WSDL
* MICROSOFT-DYNAMICS-CRM:INVALID_CERTIFICATE
* MICROSOFT-DYNAMICS-CRM:INVALID_CREDENTIALS
* MICROSOFT-DYNAMICS-CRM:INVALID_CRYPTOGRAPHIC_ALGORITHM
* MICROSOFT-DYNAMICS-CRM:INVALID_JDK_VERSION
* MICROSOFT-DYNAMICS-CRM:INVALID_SESSION
* MICROSOFT-DYNAMICS-CRM:INVALID_URL
* MICROSOFT-DYNAMICS-CRM:RETRY_EXHAUSTED
* MICROSOFT-DYNAMICS-CRM:TRANSACTION
* MICROSOFT-DYNAMICS-CRM:TRANSFORMATION
* MICROSOFT-DYNAMICS-CRM:UNKNOWN
* MICROSOFT-DYNAMICS-CRM:VALIDATION


[[executeMultiple]]
=== Execute Multiple
`<microsoft-dynamics-crm:execute-multiple>`

Executes multiple messages in the form of a request, and returns their respective responses.

==== Parameters
[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Requests a| Array of Any |  This parameter is a list of the requests (`OrganizationRequest` or `Map`). Set the `#[payload]` correctly before calling the connector. |  `#[payload]` |
| Use Single Transaction a| Boolean |  If supported (CRM 2016 and above) use a single transaction to execute all requests, if anyone fails then rollback all. |  false |
| Target Variable a| String |  The name of a variable to store the operation's output. |  |
| Target Value a| String |  An expression to evaluate against the operation's output and store the expression outcome in the target variable |  `#[payload]` |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===

==== Output
[%autowidth.spread]
|===
|Type |<<BulkOperationResult>>
|===

=== For Configurations
* <<dynamics-crm-config>>

==== Throws
* MICROSOFT-DYNAMICS-CRM:CONNECTIVITY
* MICROSOFT-DYNAMICS-CRM:INCOMPLETE_WSDL
* MICROSOFT-DYNAMICS-CRM:INVALID_CERTIFICATE
* MICROSOFT-DYNAMICS-CRM:INVALID_CREDENTIALS
* MICROSOFT-DYNAMICS-CRM:INVALID_CRYPTOGRAPHIC_ALGORITHM
* MICROSOFT-DYNAMICS-CRM:INVALID_JDK_VERSION
* MICROSOFT-DYNAMICS-CRM:INVALID_SESSION
* MICROSOFT-DYNAMICS-CRM:INVALID_URL
* MICROSOFT-DYNAMICS-CRM:RETRY_EXHAUSTED
* MICROSOFT-DYNAMICS-CRM:TRANSACTION
* MICROSOFT-DYNAMICS-CRM:TRANSFORMATION
* MICROSOFT-DYNAMICS-CRM:UNKNOWN
* MICROSOFT-DYNAMICS-CRM:VALIDATION


[[retrieve]]
=== Retrieve
`<microsoft-dynamics-crm:retrieve>`

Retrieve a record.

==== Parameters
[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Logical Name a| String |  The logical name of the entity. |  | x
| Id a| String |  The ID of the record to retrieve. |  | x
| Target Variable a| String |  The name of a variable to store the operation's output. |  |
| Target Value a| String |  An expression to evaluate against the operation's output and store the expression outcome in the target variable |  `#[payload]` |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===

==== Output
[%autowidth.spread]
|===
|Type |Object
|===

=== For Configurations
* <<dynamics-crm-config>>

==== Throws
* MICROSOFT-DYNAMICS-CRM:CONNECTIVITY
* MICROSOFT-DYNAMICS-CRM:INCOMPLETE_WSDL
* MICROSOFT-DYNAMICS-CRM:INVALID_CERTIFICATE
* MICROSOFT-DYNAMICS-CRM:INVALID_CREDENTIALS
* MICROSOFT-DYNAMICS-CRM:INVALID_CRYPTOGRAPHIC_ALGORITHM
* MICROSOFT-DYNAMICS-CRM:INVALID_JDK_VERSION
* MICROSOFT-DYNAMICS-CRM:INVALID_SESSION
* MICROSOFT-DYNAMICS-CRM:INVALID_URL
* MICROSOFT-DYNAMICS-CRM:RETRY_EXHAUSTED
* MICROSOFT-DYNAMICS-CRM:TRANSACTION
* MICROSOFT-DYNAMICS-CRM:TRANSFORMATION
* MICROSOFT-DYNAMICS-CRM:UNKNOWN
* MICROSOFT-DYNAMICS-CRM:VALIDATION


[[retrieveMultipleByQuery]]
=== Retrieve Multiple By Query
`<microsoft-dynamics-crm:retrieve-multiple-by-query>`


Use a query to retrieve multiple records.  You can find the definition of the Microsoft XML query language in the schema definition in `+http://msdn.microsoft.com/en-us/library/gg328332.aspx+`.

You can find the aggregation examples here `+http://msdn.microsoft.com/en-us/library/gg328122.aspx+`.


==== Parameters
[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Query a| String |  For DataSense Query Language, the DSQL query. For native query language, the Fetch XML query. |  `#[payload]` |
| Items Per Page a| Number |  The number of items returned per page. |  50 |
| Single Page Number a| Number |  If greater than 0, returns only that specific page. |  -1 |
| Streaming Strategy a| * <<repeatable-in-memory-iterable>>
* <<repeatable-file-store-iterable>>
* non-repeatable-iterable |  Configure to use repeatable streams. |  |
| Target Variable a| String |  The name of a variable to store the operation's output. |  |
| Target Value a| String |  An expression to evaluate against the operation's output and store the expression outcome in the target variable |  `#[payload]` |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===

==== Output
[%autowidth.spread]
|===
|Type |Array of Object
|===

=== For Configurations
* <<dynamics-crm-config>>

==== Throws
* MICROSOFT-DYNAMICS-CRM:CONNECTIVITY
* MICROSOFT-DYNAMICS-CRM:INCOMPLETE_WSDL
* MICROSOFT-DYNAMICS-CRM:INVALID_CERTIFICATE
* MICROSOFT-DYNAMICS-CRM:INVALID_CREDENTIALS
* MICROSOFT-DYNAMICS-CRM:INVALID_CRYPTOGRAPHIC_ALGORITHM
* MICROSOFT-DYNAMICS-CRM:INVALID_JDK_VERSION
* MICROSOFT-DYNAMICS-CRM:INVALID_SESSION
* MICROSOFT-DYNAMICS-CRM:INVALID_URL
* MICROSOFT-DYNAMICS-CRM:TRANSACTION
* MICROSOFT-DYNAMICS-CRM:TRANSFORMATION
* MICROSOFT-DYNAMICS-CRM:UNKNOWN
* MICROSOFT-DYNAMICS-CRM:VALIDATION


[[update]]
=== Update
`<microsoft-dynamics-crm:update>`

Update a record's attributes.

==== Parameters
[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Logical Name a| String |  The logical name of the entity. |  | x
| Id a| String |  The ID of the record to update. |  | x
| Attributes a| Object |  The attributes to update as a `Map<String, Object>`. |  `#[payload]` |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===


=== For Configurations
* <<dynamics-crm-config>>

==== Throws
* MICROSOFT-DYNAMICS-CRM:CONNECTIVITY
* MICROSOFT-DYNAMICS-CRM:INCOMPLETE_WSDL
* MICROSOFT-DYNAMICS-CRM:INVALID_CERTIFICATE
* MICROSOFT-DYNAMICS-CRM:INVALID_CREDENTIALS
* MICROSOFT-DYNAMICS-CRM:INVALID_CRYPTOGRAPHIC_ALGORITHM
* MICROSOFT-DYNAMICS-CRM:INVALID_JDK_VERSION
* MICROSOFT-DYNAMICS-CRM:INVALID_SESSION
* MICROSOFT-DYNAMICS-CRM:INVALID_URL
* MICROSOFT-DYNAMICS-CRM:RETRY_EXHAUSTED
* MICROSOFT-DYNAMICS-CRM:TRANSACTION
* MICROSOFT-DYNAMICS-CRM:TRANSFORMATION
* MICROSOFT-DYNAMICS-CRM:UNKNOWN
* MICROSOFT-DYNAMICS-CRM:VALIDATION


[[updateMultiple]]
=== Update Multiple
`<microsoft-dynamics-crm:update-multiple>`

Update a record's attributes.

==== Parameters
[%header,cols="20s,25a,30a,15a,10a"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | x
| Logical Name a| String |  The logical name of the entity. |  | x
| List Of Attributes a| Array of Object |  The list of attributes of the record as a `List<Map<String, Object>>`. |  `#[payload]` |
| Use Single Transaction a| Boolean |  If supported (CRM 2016 and above) use a single transaction to update all items, if anyone fails then rollback all. |  false |
| Target Variable a| String |  The name of a variable to store the operation's output. |  |
| Target Value a| String |  An expression to evaluate against the operation's output and store the expression outcome in the target variable |  `#[payload]` |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  A retry strategy in case of connectivity errors. |  |
|===

==== Output
[%autowidth.spread]
|===
|Type |<<BulkOperationResult>>
|===

=== For Configurations
* <<dynamics-crm-config>>

==== Throws
* MICROSOFT-DYNAMICS-CRM:CONNECTIVITY
* MICROSOFT-DYNAMICS-CRM:INCOMPLETE_WSDL
* MICROSOFT-DYNAMICS-CRM:INVALID_CERTIFICATE
* MICROSOFT-DYNAMICS-CRM:INVALID_CREDENTIALS
* MICROSOFT-DYNAMICS-CRM:INVALID_CRYPTOGRAPHIC_ALGORITHM
* MICROSOFT-DYNAMICS-CRM:INVALID_JDK_VERSION
* MICROSOFT-DYNAMICS-CRM:INVALID_SESSION
* MICROSOFT-DYNAMICS-CRM:INVALID_URL
* MICROSOFT-DYNAMICS-CRM:RETRY_EXHAUSTED
* MICROSOFT-DYNAMICS-CRM:TRANSACTION
* MICROSOFT-DYNAMICS-CRM:TRANSFORMATION
* MICROSOFT-DYNAMICS-CRM:UNKNOWN
* MICROSOFT-DYNAMICS-CRM:VALIDATION





== Types
[[Reconnection]]
=== Reconnection

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| Fails Deployment a| Boolean | When the application is deployed, a connectivity test is performed on all connectors. If set to `true`, deployment fails if the test doesn't pass after exhausting the associated reconnection strategy. |  |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> | The reconnection strategy to use. |  |
|===

[[reconnect]]
=== Reconnect

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| Frequency a| Number | How often to reconnect (in milliseconds). | |
| Count a| Number | The number of reconnection attempts to make. | |
| blocking |Boolean |If false, the reconnection strategy runs in a separate, non-blocking thread. |true |
|===

[[reconnect-forever]]
=== Reconnect Forever

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| Frequency a| Number | How often in milliseconds to reconnect. | |
| blocking |Boolean |If false, the reconnection strategy runs in a separate, non-blocking thread. |true |
|===

[[PoolingProfile]]
=== Pooling Profile

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| Max Active a| Number | Controls the maximum number of Mule components that can be borrowed from a session at one time. When set to a negative value, there is no limit to the number of components that may be active at one time. When maxActive is exceeded, the pool is said to be exhausted. |  |
| Max Idle a| Number | Controls the maximum number of Mule components that can sit idle in the pool at any time. When set to a negative value, there is no limit to the number of Mule components that may be idle at one time. |  |
| Max Wait a| Number | Specifies the number of milliseconds to wait for a pooled component to become available when the pool is exhausted and the exhaustedAction is set to WHEN_EXHAUSTED_WAIT. |  |
| Min Eviction Millis a| Number | Determines the minimum amount of time an object may sit idle in the pool before it is eligible for eviction. When non-positive, no objects will be evicted from the pool due to idle time alone. |  |
| Eviction Check Interval Millis a| Number | Specifies the number of milliseconds between runs of the object evictor. When non-positive, no object evictor is executed. |  |
| Exhausted Action a| Enumeration, one of:

** WHEN_EXHAUSTED_GROW
** WHEN_EXHAUSTED_WAIT
** WHEN_EXHAUSTED_FAIL | Specifies the behavior of the Mule component pool when the pool is exhausted. Possible values are:

* WHEN_EXHAUSTED_FAIL - Throws a NoSuchElementException.
* WHEN_EXHAUSTED_WAIT - Blocks by invoking `Object.wait(long)` until a new or idle object is available.
* WHEN_EXHAUSTED_GROW - Creates a new Mule instance and returns it, essentially making the *Max Active* value meaningless. If a positive *Max Wait* value is supplied, it blocks for at most that many milliseconds, after which a NoSuchElementException is thrown. If `maxThreadWait` is a negative value, it  blocks indefinitely. |  |
| Initialisation Policy a| Enumeration, one of:

** INITIALISE_NONE
** INITIALISE_ONE
** INITIALISE_ALL | Determines how components in a pool should be initialized. The possible values are:

* INITIALISE_NONE - Does not load any components into the pool on startup.
* INITIALISE_ONE - Loads one initial component into the pool on startup.
* INITIALISE_ALL - Loads all components in the pool on startup. |  |
| Disabled a| Boolean | Whether pooling should be disabled. |  |
|===

[[ExpirationPolicy]]
=== Expiration Policy

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| Max Idle Time a| Number | A scalar time value for the maximum amount of time a dynamic configuration instance should be allowed to be idle before it's considered eligible for expiration |  |
| Time Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | A time unit that qualifies the maxIdleTime attribute |  |
|===

[[RedeliveryPolicy]]
=== Redelivery Policy

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| Max Redelivery Count a| Number | The maximum number of times a message can be redelivered and processed unsuccessfully before triggering process-failed-message |  |
| Use Secure Hash a| Boolean | Whether to use a secure hash algorithm to identify a redelivered message. |  |
| Message Digest Algorithm a| String | The secure hashing algorithm to use. If not set, the default is SHA-256. |  |
| Id Expression a| String | Defines one or more expressions to use to determine when a message has been redelivered. This property may only be set if *Use Secure Hash* is `false`. |  |
| Object Store a| Object Store | The object store where the redelivery counter for each message is  stored. |  |
|===

[[BulkOperationResult]]
=== Bulk Operation Result

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| Id a| Any |  |  |
| Items a| Array of <<BulkItem>> |  |  |
| Successful a| Boolean |  |  |
|===

[[BulkItem]]
=== Bulk Item

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| Exception a| Any |  |  |
| Id a| Any |  |  |
| Message a| String |  |  |
| Payload a| Object |  |  |
| Status Code a| String |  |  |
| Successful a| Boolean |  |  |
|===

[[repeatable-in-memory-iterable]]
=== Repeatable In Memory Iterable

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| Initial Buffer Size a| Number | The amount of instances to initially keep in memory to consume the stream and provide random access to it. If the stream contains more data than can fit into this buffer, then the buffer expands according to the *Buffer Size Increment* attribute, with an upper limit of *Max Buffer Size*. Default value is 100 instances. |  |
| Buffer Size Increment a| Number | This is by how much the buffer size expands if it exceeds its initial size. Setting a value of zero or lower means that the buffer should not expand, meaning that a STREAM_MAXIMUM_SIZE_EXCEEDED error is raised when the buffer gets full. Default value is 100 instances. |  |
| Max Buffer Size a| Number | The maximum amount of memory to use. If more than that is used then a STREAM_MAXIMUM_SIZE_EXCEEDED error is raised. A value lower than or equal to zero means no limit. |  |
|===

[[repeatable-file-store-iterable]]
=== Repeatable File Store Iterable

[%header,cols="20s,25a,30a,15a,10a"]
|===
| Field | Type | Description | Default Value | Required
| In Memory Objects a| Number | The maximum amount of instances to keep in memory. If more than that is required, then it starts to buffer the content on disk. |  |
| Buffer Unit a| Enumeration, one of:

** BYTE
** KB
** MB
** GB | The unit in which maxInMemorySize is expressed. |  |
|===

== See Also

https://help.mulesoft.com[MuleSoft Help Center]
