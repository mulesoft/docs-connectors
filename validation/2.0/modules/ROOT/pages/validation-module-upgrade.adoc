= Upgrading Validation Module to Version 2.0 - Mule 4

Upgrade Validation moddule to version 2.x.

== Supported Upgrade Paths

// Is this a direct upgrade (from previous version to latest version) or
// a “multi-version-hop” upgrade? What is the supported path?

[%header,cols="50a,50a"]
|===
|From Version | To Version
|x.x |x.x
|===

== Changes in This Release
As part of MuleSoft Inclusive Product Language Initiative .

Non-inclusive terms were replaced by alternatives approved by Salesforce’s Inclusive Product Language Taskforce.

The operation names replaced are:

. Is not Blacklisted Ip with Is not Denied Ip
. Black List with Deny List 
. Is Whitelisted Ip with Is Allowed Ip
. White List with Allowed List
// List all changes that affect users, including changed schemas,
// changed data structures, changed POM files, changed and new fields
// (locations, names, etc.) and parameters, deprecated parameters, etc.
// Examples:
//
// * The create operation name changed from <old-name> to <new-name>.
// * The <field-name> is now located in the <tab-name> tab.
// * What happens with the upgrade? Are changes made to app data?
// * The single global configuration is divided into operation and source-specific global configurations like:
// ** send-config
Used by send-with-sync-mdn and send-with-async-mdn operations
// ** listener-config
Used by as2-listener source
// ** mdn-listener-config
Used by as2-mdn-listener source.
// * Changed namespace from <old-namespace> to <new-namespace>.

// If applicable, use tables to describe new and changed operations and sources. Examples follow:

////

[[changed_operations]]
== Changed Operations

[[isNotDeniedIp]]
=== Is Not Denied Ip
`<validation:is-not-denied-ip>`


Validates that a ipAddress is not present in the ipList.


==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | |x
| Ip Address a| String |  the address to validate |  |x
| Deny List a| <<IpFilterList>> |  the list of disallowed addresses |  |x
| Message a| String |  Specifies the message that is to be notified to the user if the validation fails. It's marked as not dynamic to allow eager evaluation of the expression in case that the validation is successful and the message is not needed. Components consuming this value are to manually check if this is an expression and evaluate it in case that the validation failed |  |
|===

==== For Configurations.
* <<config>>

==== Throws
* VALIDATION:INVALID_IP
* VALIDATION:REJECTED_IP

[[isAllowedIp]]
=== Is Allowed Ip
`<validation:is-allowed-ip>`


Validates that a ipAddress is present in the ipList.


==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|===
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | |x
| Ip Address a| String |  the address to validate |  |x
| Allow List a| <<IpFilterList>> |  the list of allowed addresses |  |x
| Message a| String |  Specifies the message that is to be notified to the user if the validation fails. It's marked as not dynamic to allow eager evaluation of the expression in case that the validation is successful and the message is not needed. Components consuming this value are to manually check if this is an expression and evaluate it in case that the validation failed |  |
|===


==== For Configurations.
* <<config>>

==== Throws
* VALIDATION:INVALID_IP
* VALIDATION:REJECTED_IP

////

== Requirements and Limitations

Be aware of the following requirements and limitations before you upgrade to the latest version.

=== Requirements

Ensure that you meet the following requirements before you perform the upgrade:

// * Any particular database, OS version, etc.?
// * Any software requirements?
// * Minimum hardware requirements (CPU, memory, disk space, etc.)?
// * Licensing requirements?

=== Limitations

Before you perform the upgrade, be aware of the following known limitations:

// (Examples)
// * There is no rollback mechanism
// * A protocol will be broken
// * Migration of _____ is not supported

== Upgrade Prerequisites

Before you perform the upgrade, you must:

* Create a backup of your files, data, and configurations in case you need to restore to them.
// * Do they need to rename or copy over any files before downloading the latest version?

== Upgrade Steps

Follow these steps to perform the upgrade:

. In Anypoint Studio, create a Mule project.
. In *Mule Palette*, click *Search in Exchange*.
. In *Add Dependencies to Project*, enter `validation module` in the search field.
. In *Available modules*, select *Validation module* and click *Add*.
. Click *Finish*.
. Verify that the Validation module dependency version is <latest-version> in the `pom.xml` file in the Mule project.

Studio upgrades the connector automatically.

//If there are additional steps, add them.
// * Download the current version.
// * Import data?
// * Update the configuration.
// * What does the user need to do after downloading the connector before they can start using it?

== Post-Upgrade Steps

After you install the latest version of the connector, follow these steps to complete the upgrade:

// * Do they need to update endpoints?
// * Do they need to re-create/refactor any customizations?
// * Does the user need to map any files?
// * Verify the upgrade.

=== Verify the Upgrade

After you install the latest version of the connector, follow these steps to verify the upgrade:

. In Studio, verify that there are no errors in the *Problems* or *Console* views.
. Verify that there are no problems in the project `pom.xml` file.
. Test the connection to verify that the operations work.

== Troubleshoot

//If there are common known issues and errors that occur when upgrading, give troubleshooting tips.

=== Revert the Upgrade

If it is necessary to revert to the previous version of Validation module, change the `connector-name-dependency` dependency version in the project's `pom.xml` file to the previous version.

You must update the project's `pom.xml` file in Anypoint Studio.

== See Also

* xref:index.adoc[About Validation Module]
* xref:validation-documentation.adoc[Validation Module Reference]
