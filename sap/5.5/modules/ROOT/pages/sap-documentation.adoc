:toc:               left
:toc-title:         SAP Module
:toclevels:         2
:last-update-label!:
:docinfo:
:source-highlighter: coderay
:icons: font


= SAP Module Documentation Reference

+++
Class that has an overall configuration for the SAP extension.
+++


== Configurations
---
[[sap]]
=== Config

+++
This refers to the default configuration for SAP extension outbound elements.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
|Name | String | The name for this configuration. Connectors reference the configuration with this name. | | *x*{nbsp}
| Connection a| * <<sap_certificate, Certificate>> {nbsp}
* <<sap_simple-connection-provider, Simple Connection Provider>> {nbsp}
 | The connection types that can be provided to this configuration. | | *x*{nbsp}
| Expiration Policy a| <<ExpirationPolicy>> |  +++Configures the minimum amount of time that a dynamic configuration instance can remain idle before the runtime considers it eligible for expiration. This does not mean that the platform will expire the instance at the exact moment that it becomes eligible. The runtime will actually purge the instances when it sees it fit.+++ |  | {nbsp}
| Encoding a| String |  +++Canonical name of the encoding. See Oracle's supported encodings at https://docs.oracle.com/javase/7/docs/technotes/guides/intl/encoding.doc.html.+++ |  | {nbsp}
| Default Idocument Version a| String |  +++Default IDoc version+++ |  +++0+++ | {nbsp}
| Disable Jco Internal Cache a| Boolean |  +++Flag that indicates whether to use the JCo internal cache. Set this flag to true to use the SAP JCo internal cache. By default, JCo stores the metadata after the first call and populates that template in the following calls. This flag applies to both functions and sources.+++ |  +++false+++ | {nbsp}
| Evaluate Response Flag a| Boolean |  +++Flag that indicates whether to throw an exception or let the user handle it as another result. This flag is an exception or logging mechanism you use to specify whether a message throws an exception (E) or is treated as a result with a warning (W). If you set the flag to true and an E message is returned, an exception is thrown with that message. If W is returned, a warning message is logged.+++ |  +++false+++ | {nbsp}
| Log Trace Flag a| Boolean |  +++Flag that indicates whether to log the trace on the Mule server. Set this to true to log a trace.+++ |  +++false+++ | {nbsp}
| Use SAP Format a| Boolean |  +++Parameter added to support the Mule 3 format for returning SAP values. Used to parse a JCoField. If set to true, values are returned as strings with the original SAP format. If set to false, values are converted to the corresponding Java objects, serialized, and returned.+++ |  +++false+++ | {nbsp}
| Use SAP Format On Function Listener a| Boolean |  +++Parameter added to support the Mule 3 format for returning SAP values. Used to parse a JCoField. If set to true, values are returned as strings with the original SAP format. If set to false, values are converted to the corresponding Java objects, serialized, and returned.+++ |  +++false+++ | {nbsp}
|======================

==== Connection Types
[[sap_certificate]]
===== Certificate

+++
This connection provider relies on an X509 certificate to authenticate the user.
+++

====== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| SAP system number a| String |  +++Two-digit system number (sysnr) of the SAP system+++ |  | *x*{nbsp}
| SAP client ID a| String |  +++Three-digit client number. Leading zeroes are preserved if they appear in the number.+++ |  | *x*{nbsp}
| Destination Name a| String |  +++Connector generates an identifier of the destination. If none is set, then a random value is created.+++ |  | {nbsp}
| Login language a| String |  +++Connector uses a language code that determines the code page used for communicating between the SAP Adapter and the application server.+++ |  +++EN+++ | {nbsp}
| Extended Properties a| Object |  +++Connector uses this to pass in all the database server-specific connection parameters.+++ |  | {nbsp}
| X.509 Certificate a| String |  +++Path to the X.509 certificate. This is required when the connector is working as a client.+++ |  | {nbsp}
| Application server host a| String |  +++Host of the SAP application server+++ |  | {nbsp}
| Message server configuration a| <<MessageServer>> |  +++Configuration for message server usage+++ |  | {nbsp}
| Enable RFC tracing on server a| Boolean |  +++Enable or disable RFC trace on the server+++ |  +++false+++ | {nbsp}
| Enable CPIC tracing on server a| Enumeration, one of:

** INHERIT
** NO_TRACING
** LEVEL_1
** LEVEL_2
** LEVEL_3 |  +++Enable or disable CPIC trace on the server+++ |  | {nbsp}
| Reconnection a| <<Reconnection>> |  +++When the application is deployed, a connectivity test is performed on all connectors. If set to true, deployment will fail if the test doesn't pass after exhausting the associated reconnection strategy+++ |  | {nbsp}
|======================
[[sap_simple-connection-provider]]
===== Simple Connection Provider

+++
This connection provider connects using a username and password.
+++

====== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| SAP system number a| String |  +++Two-digit system number (sysnr) of the SAP system+++ |  | *x*{nbsp}
| SAP client ID a| String |  +++Three-digit client number. Leading zeroes are preserved if they appear in the number.+++ |  | *x*{nbsp}
| Destination Name a| String |  +++Connector generates an identifier of the destination. If none is set, then a random value is created.+++ |  | {nbsp}
| Login language a| String |  +++Connector uses a language code that determines the code page used for communicating between the SAP Adapter and the application server.+++ |  +++EN+++ | {nbsp}
| Extended Properties a| Object |  +++Connector uses this to pass in all the database server-specific connection parameters.+++ |  | {nbsp}
| Username a| String |  +++Username the connector uses to log in to SAP.+++ |  | *x*{nbsp}
| Password a| String |  +++Password associated with the login username+++ |  | *x*{nbsp}
| Application server host a| String |  +++Host of the SAP application server+++ |  | {nbsp}
| Message server configuration a| <<MessageServer>> |  +++Configuration for message server usage+++ |  | {nbsp}
| Enable RFC tracing on server a| Boolean |  +++Enable or disable RFC trace on the server+++ |  +++false+++ | {nbsp}
| Enable CPIC tracing on server a| Enumeration, one of:

** INHERIT
** NO_TRACING
** LEVEL_1
** LEVEL_2
** LEVEL_3 |  +++Enable or disable CPIC trace on the server+++ |  | {nbsp}
| Reconnection a| <<Reconnection>> |  +++When the application is deployed, a connectivity test is performed on all connectors. If set to true, deployment will fail if the test doesn't pass after exhausting the associated reconnection strategy+++ |  | {nbsp}
|======================

==== Associated Operations
* <<asyncRfc>> {nbsp}
* <<confirmTransactionId>> {nbsp}
* <<createTransactionId>> {nbsp}
* <<getFunction>> {nbsp}
* <<retrieveIdoc>> {nbsp}
* <<send>> {nbsp}
* <<syncRfc>> {nbsp}

==== Associated Sources
* <<document-listener>> {nbsp}
* <<function-listener>> {nbsp}


== Operations

[[asyncRfc]]
=== Asynchronous Remote Function Call
`<sap:async-rfc>`

+++
This operation executes a BAPIFunction over a queued Remote Function Call (qRFC).<br> A qRFC is an extension of a transactional RFC (tRFC) that ensures that individual steps are processed in sequence. This guarantees that multiple logical unit of work (LUW) transactions are processed in the order specified by the application. tRFC can be serialized using inbound and outbound queues, hence the name queued RFC.<br> <br> qRFC is best used for: <ul> <li>Extension of the Transactional RFC</li> <li>Defined processing sequence</li> </ul> <br> qRFC is recommended if you want to guarantee that several transactions are processed in a predefined order.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Function Name a| String |  +++Name of the function to execute+++ |  | *x*{nbsp}
| Content a| Binary |  +++BAPIFunction to execute+++ |  +++#[payload]+++ | {nbsp}
| Transaction Id a| String |  +++ID that identifies an RFC so it runs only once+++ |  | *x*{nbsp}
| Queue Name a| String |  +++Name of the queue where the RFC executes+++ |  | {nbsp}
| Transactional Action a| Enumeration, one of:

** ALWAYS_JOIN
** JOIN_IF_POSSIBLE
** NOT_SUPPORTED |  +++The type of joining action that operations can take regarding transactions.+++ |  +++JOIN_IF_POSSIBLE+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================


==== For Configurations.
* <<sap>> {nbsp}

==== Throws
* SAP:TIMEOUT {nbsp}
* SAP:NOT_SUPPORTED {nbsp}
* SAP:PARSING {nbsp}
* SAP:INVALID_CACHE {nbsp}
* SAP:NOT_FOUND {nbsp}
* SAP:RETRY_EXHAUSTED {nbsp}
* SAP:INVALID_INPUT {nbsp}
* SAP:METADATA_UNAVAILABLE {nbsp}
* SAP:CONNECTIVITY {nbsp}
* SAP:SYSTEM_BUSY {nbsp}


[[confirmTransactionId]]
=== Confirm transaction
`<sap:confirm-transaction-id>`

+++
This operation confirms to the server that a transaction is successful.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Transaction ID (TID) a| String |  +++ID of the transaction to confirm+++ |  | *x*{nbsp}
| Transactional Action a| Enumeration, one of:

** ALWAYS_JOIN
** JOIN_IF_POSSIBLE
** NOT_SUPPORTED |  +++The type of joining action that operations can take regarding transactions.+++ |  +++JOIN_IF_POSSIBLE+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================


==== For Configurations.
* <<sap>> {nbsp}

==== Throws
* SAP:RETRY_EXHAUSTED {nbsp}
* SAP:CONNECTIVITY {nbsp}


[[createTransactionId]]
=== Start SAP transaction
`<sap:create-transaction-id>`

+++
This operation creates a transaction ID to be used as part of future calls.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Transactional Action a| Enumeration, one of:

** ALWAYS_JOIN
** JOIN_IF_POSSIBLE
** NOT_SUPPORTED |  +++The type of joining action that operations can take regarding transactions.+++ |  +++JOIN_IF_POSSIBLE+++ | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| String
|======================

==== For Configurations.
* <<sap>> {nbsp}

==== Throws
* SAP:TIMEOUT {nbsp}
* SAP:NOT_SUPPORTED {nbsp}
* SAP:PARSING {nbsp}
* SAP:INVALID_CACHE {nbsp}
* SAP:NOT_FOUND {nbsp}
* SAP:RETRY_EXHAUSTED {nbsp}
* SAP:INVALID_INPUT {nbsp}
* SAP:METADATA_UNAVAILABLE {nbsp}
* SAP:CONNECTIVITY {nbsp}
* SAP:SYSTEM_BUSY {nbsp}


[[getFunction]]
=== Get Function
`<sap:get-function>`

+++
This operation retrieves a BAPIFunction based on its name.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Function Name a| String |  +++Name of the function to retrieve+++ |  | *x*{nbsp}
| Transactional Action a| Enumeration, one of:

** ALWAYS_JOIN
** JOIN_IF_POSSIBLE
** NOT_SUPPORTED |  +++The type of joining action that operations can take regarding transactions.+++ |  +++JOIN_IF_POSSIBLE+++ | {nbsp}
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure if repeatable streams should be used and their behaviour+++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Binary
|======================

==== For Configurations.
* <<sap>> {nbsp}

==== Throws
* SAP:TIMEOUT {nbsp}
* SAP:NOT_SUPPORTED {nbsp}
* SAP:PARSING {nbsp}
* SAP:INVALID_CACHE {nbsp}
* SAP:NOT_FOUND {nbsp}
* SAP:RETRY_EXHAUSTED {nbsp}
* SAP:INVALID_INPUT {nbsp}
* SAP:METADATA_UNAVAILABLE {nbsp}
* SAP:CONNECTIVITY {nbsp}
* SAP:SYSTEM_BUSY {nbsp}


[[retrieveIdoc]]
=== Retrieve IDoc
`<sap:retrieve-idoc>`

+++
This operation retrieves an IDocument based on its key.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| IDoc Name a| String |  +++Key that contains the required information to retrieve the IDocument+++ |  | *x*{nbsp}
| Transactional Action a| Enumeration, one of:

** ALWAYS_JOIN
** JOIN_IF_POSSIBLE
** NOT_SUPPORTED |  +++The type of joining action that operations can take regarding transactions.+++ |  +++JOIN_IF_POSSIBLE+++ | {nbsp}
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure if repeatable streams should be used and their behaviour+++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Binary
|======================

==== For Configurations.
* <<sap>> {nbsp}

==== Throws
* SAP:TIMEOUT {nbsp}
* SAP:NOT_SUPPORTED {nbsp}
* SAP:PARSING {nbsp}
* SAP:INVALID_CACHE {nbsp}
* SAP:NOT_FOUND {nbsp}
* SAP:RETRY_EXHAUSTED {nbsp}
* SAP:INVALID_INPUT {nbsp}
* SAP:METADATA_UNAVAILABLE {nbsp}
* SAP:CONNECTIVITY {nbsp}
* SAP:SYSTEM_BUSY {nbsp}


[[send]]
=== Send IDoc
`<sap:send>`

+++
This operation sends an IDocument to SAP over an RFC.<br> An RFC can be one of two types for IDocuments: 1. Transactional (tRFC): A special form of asynchronous Remote Function Call (aRFC) that ensures transaction-like execution of processing steps that were originally executed autonomously and that executes the called function module in the RFC server only once, even if the data is sent multiple times.<br> tRFC is an asynchronous communication method that executes the called function module in the RFC server only once, even if the data is sent multiple times.<br> <br> <p> 2. Queued (qRFC): A qRFC is an extension of tRFC that guarantees that multiple LUWs are processed in the order specified by the application, using inbound and outbound queues, hence the name queued RFC.<br> <br> qRFC is best used as an extension of tRFC to define a processing sequence. Both of these types have a TID handler. <br> The implementation of qRFC is recommended if you want to guarantee that several transactions are processed in a predefined order.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| IDoc Name a| String |  +++Name of the IDoc to execute+++ |  | *x*{nbsp}
| Content a| Binary |  +++IDocument to execute+++ |  +++#[payload]+++ | {nbsp}
| Version a| String |  +++Version of the IDoc+++ |  | {nbsp}
| Transaction Id a| String |  +++ID that identifies an RFC so it runs only once+++ |  | {nbsp}
| Queue Name a| String |  +++Name of the queue on which the RFC executes. This applies for qRFC since each tRFC call that is processed is given a queue name by the application. A queue name and version are required for each qRFC transaction.+++ |  | {nbsp}
| IDoc Parsing Options a| <<IDocParseParameterGroup>> |  |  | {nbsp}
| Transactional Action a| Enumeration, one of:

** ALWAYS_JOIN
** JOIN_IF_POSSIBLE
** NOT_SUPPORTED |  +++The type of joining action that operations can take regarding transactions.+++ |  +++JOIN_IF_POSSIBLE+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================


==== For Configurations.
* <<sap>> {nbsp}

==== Throws
* SAP:TIMEOUT {nbsp}
* SAP:NOT_SUPPORTED {nbsp}
* SAP:PARSING {nbsp}
* SAP:INVALID_CACHE {nbsp}
* SAP:NOT_FOUND {nbsp}
* SAP:RETRY_EXHAUSTED {nbsp}
* SAP:INVALID_INPUT {nbsp}
* SAP:METADATA_UNAVAILABLE {nbsp}
* SAP:CONNECTIVITY {nbsp}
* SAP:SYSTEM_BUSY {nbsp}


[[syncRfc]]
=== Synchronous Remote Function Call
`<sap:sync-rfc>`

+++
This operation executes a BAPIFunction over a Synchronous Remote Function Call (sRFC), which requires both client and server to be available for communication or data transfer and also to be available to return a result immediately after the execution. <br> sRFC is best used for: <ul> <li>Communication between systems</li> <li>Communication between SAP Web Application Server to SAP GUI</li> </ul>
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Function Name a| String |  +++Name of the function to execute+++ |  | *x*{nbsp}
| Content a| Binary |  +++BAPIFunction to execute+++ |  +++#[payload]+++ | {nbsp}
| Transactional Action a| Enumeration, one of:

** ALWAYS_JOIN
** JOIN_IF_POSSIBLE
** NOT_SUPPORTED |  +++The type of joining action that operations can take regarding transactions.+++ |  +++JOIN_IF_POSSIBLE+++ | {nbsp}
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure if repeatable streams should be used and their behaviour+++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Binary
|======================

==== For Configurations.
* <<sap>> {nbsp}

==== Throws
* SAP:TIMEOUT {nbsp}
* SAP:NOT_SUPPORTED {nbsp}
* SAP:PARSING {nbsp}
* SAP:INVALID_CACHE {nbsp}
* SAP:NOT_FOUND {nbsp}
* SAP:RETRY_EXHAUSTED {nbsp}
* SAP:INVALID_INPUT {nbsp}
* SAP:METADATA_UNAVAILABLE {nbsp}
* SAP:CONNECTIVITY {nbsp}
* SAP:SYSTEM_BUSY {nbsp}


== Sources

[[document-listener]]
=== Document Listener
`<sap:document-listener>`

+++
This source listens for incoming IDocs.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Gateway Host a| String |  +++This is the name of the host running the gateway handler. SAP Gateway is a development framework used to connect non-SAP applications to SAP applications. You can configure the SAP Gateway host to be the trusted system using an RFC destination.+++ |  | {nbsp}
| Gateway Service a| String |  +++Either the name or service port for the gateway service of the SAP system+++ |  | {nbsp}
| Program ID a| String |  +++SAP system program ID that is registered on the gateway. Must be unique for the given gateway.+++ |  | *x*{nbsp}
| Connection Count a| Number |  +++This parameter indicates the number of connections to register on the gateway. If there is more than one connection, handler requests are processed in parallel. For example, if two connections are set, this will create two handler workers or threads that are going to handle requests in parallel, almost like having two sources start together.+++ |  +++1+++ | {nbsp}
| Idoc Type Filter Regex a| String |  +++Expression to filter all incoming IDocs by type.+++ |  | {nbsp}
| Message server host a| String |  +++Host of the message server+++ |  | {nbsp}
| Message server port a| String |  +++The message server name or port number+++ |  | {nbsp}
| System ID a| String |  +++The system ID of the system the message server belongs to+++ |  | {nbsp}
| Group a| String |  +++The logon group defined in ABAP which is identifying a set of application servers+++ |  | {nbsp}
| Update interval a| String |  +++The update time how often the list of application servers is fetched from the message server+++ |  | {nbsp}
| IDoc Render Options a| <<IDocRenderParameterGroup>> |  +++IDoc Rendering options+++ |  | {nbsp}
| Transactional Action a| Enumeration, one of:

** ALWAYS_BEGIN
** NONE |  +++The type of beginning action that sources can take regarding transactions.+++ |  +++NONE+++ | {nbsp}
| Transaction Type a| Enumeration, one of:

** LOCAL
** XA |  +++The type of transaction to create. Availability will depend on the runtime version.+++ |  +++LOCAL+++ | {nbsp}
| Primary Node Only a| Boolean |  +++Whether this source should only be executed on the primary node when runnning in Cluster+++ |  | {nbsp}
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure if repeatable streams should be used and their behaviour+++ |  | {nbsp}
| Redelivery Policy a| <<RedeliveryPolicy>> |  +++Defines a policy for processing the redelivery of the same message+++ |  | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Binary
| *Attributes Type* a| <<SapAttributes>>
|======================

==== For Configurations.
* <<sap>> {nbsp}



[[function-listener]]
=== Function Listener
`<sap:function-listener>`

+++
This source listens for incoming BAPI Functions.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Gateway Host a| String |  +++This is the name of the host running the gateway handler. SAP Gateway is a development framework used to connect non-SAP applications to SAP applications. You can configure the SAP Gateway host to be the trusted system using an RFC destination.+++ |  | {nbsp}
| Gateway Service a| String |  +++Either the name or service port for the gateway service of the SAP system+++ |  | {nbsp}
| Program ID a| String |  +++SAP system program ID that is registered on the gateway. Must be unique for the given gateway.+++ |  | *x*{nbsp}
| Connection Count a| Number |  +++This parameter indicates the number of connections to register on the gateway. If there is more than one connection, handler requests are processed in parallel. For example, if two connections are set, this will create two handler workers or threads that are going to handle requests in parallel, almost like having two sources start together.+++ |  +++1+++ | {nbsp}
| Targeted Function a| String |  +++Filters the incoming BAPI functions by their name. The name of the function you want to receive.+++ |  | {nbsp}
| Message server host a| String |  +++Host of the message server+++ |  | {nbsp}
| Message server port a| String |  +++The message server name or port number+++ |  | {nbsp}
| System ID a| String |  +++The system ID of the system the message server belongs to+++ |  | {nbsp}
| Group a| String |  +++The logon group defined in ABAP which is identifying a set of application servers+++ |  | {nbsp}
| Update interval a| String |  +++The update time how often the list of application servers is fetched from the message server+++ |  | {nbsp}
| Transactional Action a| Enumeration, one of:

** ALWAYS_BEGIN
** NONE |  +++The type of beginning action that sources can take regarding transactions.+++ |  +++NONE+++ | {nbsp}
| Transaction Type a| Enumeration, one of:

** LOCAL
** XA |  +++The type of transaction to create. Availability will depend on the runtime version.+++ |  +++LOCAL+++ | {nbsp}
| Primary Node Only a| Boolean |  +++Whether this source should only be executed on the primary node when runnning in Cluster+++ |  | {nbsp}
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure if repeatable streams should be used and their behaviour+++ |  | {nbsp}
| Redelivery Policy a| <<RedeliveryPolicy>> |  +++Defines a policy for processing the redelivery of the same message+++ |  | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
| Response a| Binary |  |  +++#[payload]+++ | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Binary
| *Attributes Type* a| <<SapAttributes>>
|======================

==== For Configurations.
* <<sap>> {nbsp}



== Types
[[MessageServer]]
=== Message Server

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Host a| String | Host of the message server |  | x
| System Id a| String | System ID of the SAP system |  | x
| Port a| Number | Port through which the connector logs in to the message server |  | 
| Group a| String | Group of SAP application servers |  | 
| Router a| String | SAP router string used for a system protected by a firewall |  | 
|======================

[[Reconnection]]
=== Reconnection

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Fails Deployment a| Boolean | When the application is deployed, a connectivity test is performed on all connectors. If set to true, deployment will fail if the test doesn't pass after exhausting the associated reconnection strategy |  | 
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> | The reconnection strategy to use |  | 
|======================

[[reconnect]]
=== Reconnect

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Frequency a| Number | How often (in ms) to reconnect |  | 
| Count a| Number | How many reconnection attempts to make |  | 
|======================

[[reconnect-forever]]
=== Reconnect Forever

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Frequency a| Number | How often (in ms) to reconnect |  | 
|======================

[[ExpirationPolicy]]
=== Expiration Policy

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Max Idle Time a| Number | A scalar time value for the maximum amount of time a dynamic configuration instance should be allowed to be idle before it's considered eligible for expiration |  | 
| Time Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | A time unit that qualifies the maxIdleTime attribute |  | 
|======================

[[SapAttributes]]
=== Sap Attributes

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Transaction Id a| String |  |  | 
|======================

[[IDocRenderParameterGroup]]
=== I Doc Render Parameter Group

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Render I Doc Empty Tags a| Boolean | Rendering option for including also all empty tags in the resulting XML document. | false | 
| Render I Doc Ignore Invalid Char Errors a| Boolean | Rendering option for ignoring character range check errors in accordance with the used XML specification version. | false | 
| Render I Doc Ignore Tag Escape Errors a| Boolean | Rendering option for ignoring escape character errors within XML tags in accordance with the used IDocXML format. | false | 
| Render I Doc Omit Xml Declaration a| Boolean | Rendering option for omitting the XML declaration section in the resulting XML document. | false | 
| Render I Doc Optional Encoding Decl a| Boolean | Rendering option for writing also an optional XML encoding declaration attribute into the resulting XML document. | false | 
| Render I Doc Substitute Invalid Chars a| Boolean | Rendering option for substituting invalid characters within IDoc field values with the number sign '#' (U+0023). | false | 
| Render I Doc With CR a| Boolean | Rendering option for inserting CR (Carriage Return) characters into the resulting XML document. | false | 
| Render I Doc With CRLF a| Boolean | Rendering option for inserting CR+LF (Carriage Return and Line Feed) characters into the resulting XML document. | false | 
| Render I Doc With LF a| Boolean | Rendering option for inserting LF (Line Feed) characters into the resulting XML document. | false | 
| Render I Doc With Tabs And CR a| Boolean | Rendering option for inserting TAB and CR (Tabulators and Carriage Return) characters into the resulting XML document. | false | 
| Render I Doc With Tabs And CRLF a| Boolean | Rendering option for inserting TAB and CR+LF (Tabulators, Carriage Return and Line Feed) characters into the resulting XML document. | false | 
| Render I Doc With Tabs And LF a| Boolean | Rendering option for inserting TAB and LF (Tabulators and Line Feed) characters into the resulting XML document. | false | 
| Render I Doc Xml10 a| Boolean | Rendering option for creating an XML document compliant to the XML specification version 1.0 | false | 
| Render I Doc Xml11 a| Boolean | Rendering option for creating an XML document compliant to the XML specification version 1.1 | false | 
|======================

[[repeatable-in-memory-stream]]
=== Repeatable In Memory Stream

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Initial Buffer Size a| Number | This is the amount of memory that will be allocated in order to consume the stream and provide random access to it. If the stream contains more data than can be fit into this buffer, then it will be expanded by according to the bufferSizeIncrement attribute, with an upper limit of maxInMemorySize. |  | 
| Buffer Size Increment a| Number | This is by how much will be buffer size by expanded if it exceeds its initial size. Setting a value of zero or lower will mean that the buffer should not expand, meaning that a STREAM_MAXIMUM_SIZE_EXCEEDED error will be raised when the buffer gets full. |  | 
| Max Buffer Size a| Number | This is the maximum amount of memory that will be used. If more than that is used then a STREAM_MAXIMUM_SIZE_EXCEEDED error will be raised. A value lower or equal to zero means no limit. |  | 
| Buffer Unit a| Enumeration, one of:

** BYTE
** KB
** MB
** GB | The unit in which all these attributes are expressed |  | 
|======================

[[repeatable-file-store-stream]]
=== Repeatable File Store Stream

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| In Memory Size a| Number | Defines the maximum memory that the stream should use to keep data in memory. If more than that is consumed then it will start to buffer the content on disk. |  | 
| Buffer Unit a| Enumeration, one of:

** BYTE
** KB
** MB
** GB | The unit in which maxInMemorySize is expressed |  | 
|======================

[[RedeliveryPolicy]]
=== Redelivery Policy

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Max Redelivery Count a| Number | The maximum number of times a message can be redelivered and processed unsuccessfully before triggering process-failed-message |  | 
| Use Secure Hash a| Boolean | Whether to use a secure hash algorithm to identify a redelivered message |  | 
| Message Digest Algorithm a| String | The secure hashing algorithm to use. If not set, the default is SHA-256. |  | 
| Id Expression a| String | Defines one or more expressions to use to determine when a message has been redelivered. This property may only be set if useSecureHash is false. |  | 
| Object Store a| <<ObjectStore>> | The object store where the redelivery counter for each message is going to be stored. |  | 
|======================

[[IDocParseParameterGroup]]
=== I Doc Parse Parameter Group

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Parse With Field Value Checking a| Boolean | Parsing option for enabling the field value checking mechanism in accordance with the respective IDoc field metadata. | false | 
| Parse Ignore Unknown Fields a| Boolean | Parsing option for ignoring unknown fields, e.g. when parsing with older IDoc metadata. | false | 
| Parse Ignore Invalid Char Errors a| Boolean | Parsing option for ignoring character range check errors in accordance with the declared XML specification version.
 If using this option invalid characters within field values are accepted although the XML document to parse may not be well-formed because it potentially contains characters not being in the valid character range. | false | 
| Parse Without Field Data Type Checking a| Boolean | Parsing option for disabling the field data type checking mechanism in accordance with the respective IDoc field metadata.
 Caution: This option should be used with care.
 Sending IDocs with illegal field contents that are violating the field's defined datatype may cause ABAP system dumps and result in unrecognized partial loss of data when later being processed in an AS ABAP system. | false | 
| Parse Refuse Unknown XML Version a| Boolean | Parsing option for refusing XML documents that declare to use an unknown XML specification version, i.e. a potential future XML specification version 1.2 or 2.0. | false | 
| Parse Refuse XML Version10 a| Boolean | Parsing option for refusing XML documents that declare to use the XML specification version 1.0 or do not contain an XML declaration header. | false | 
| Parse Refuse XML Version11 a| Boolean | Parsing option for refusing XML documents that declare to use the XML specification version 1.1. | false | 
| Parse Accept Only Xml Version10 a| Boolean | Parsing option for accepting only XML documents that declare to use the XML specification version 1.0 or do not contain an XML declaration header. | false | 
| Parse Accept Only Xml Version11 a| Boolean | Parsing option for accepting only XML documents that declare to use the XML specification version 1.1. | false | 
| Parse Accept Only Xml Version10 To11 a| Boolean | Parsing option for accepting only XML documents that declare to use the XML specification version 1.0 or 1.1 or do not contain an XML declaration header. | false | 
|======================

