= MongoDB Connector Reference - Mule 4
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]

Support Category: https://www.mulesoft.com/legal/versioning-back-support-policy#anypoint-connectors[Select]

MongoDB Connector v6.0

Anypoint Connector for MongoDB is a closed-source connector that provides a connection between the Mule runtime and third-party software on a MongoDB server.

Release Notes: xref:release-notes::connector/mongodb-connector-release-notes-mule-4.adoc[MongoDB Connector Release Notes]

== Configurations
---
[[config]]
=== Config


==== Parameters
[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
|Name | String | The name for this configuration. Connectors reference the configuration with this name. | | *x*{nbsp}
| Connection a| <<config_connection, Connection>>
 | The connection types that can be provided to this configuration. | | *x*{nbsp}
| Read Concern a| Enumeration, one of:

** LOCAL
** AVAILABLE
** MAJORITY
** LINEARIZABLE
** SNAPSHOT |  +++The read concern option allows you to control the consistency and isolation properties of the data read from replica sets and replica set shards.+++ |  | {nbsp}
| Read Preference a| Enumeration, one of:

** PRIMARY
** PRIMARY_PREFERED
** SECONDARY
** SECONDARY_PREFERRED
** NEAREST |  +++Specifies the read preferences for this connection.+++ |  +++PRIMARY+++ | {nbsp}
| Maximum Staleness Seconds a| Number |  +++Specifies, in seconds, how stale a secondary can be before the client stops using it for read operations.+++ |  +++-1+++ | {nbsp}
| Read Preference Tags a| Array of <<ReadPreferenceTag>> |  +++If a replica set member or members are associated with tags, you can specify a tag set (array of tag specification documents) in the read preference to target those members.+++ |  | {nbsp}
| Expiration Policy a| <<ExpirationPolicy>> |  +++Configures the minimum amount of time that a dynamic configuration instance can remain idle before the runtime considers it eligible for expiration. This does not mean that the platform will expire the instance at the exact moment that it becomes eligible. The runtime will actually purge the instances when it sees it fit.+++ |  | {nbsp}
| Write Concern Acknowledgement a| String |  +++Requests acknowledgment that the write operation has propagated to the specified number of mongod instances. You can write a number of instances n>0 or use a value from the list.+++ |  | {nbsp}
| Write Concern Timeout a| Number |  +++This option specifies a time limit, in milliseconds, for the write concern. it is only applicable for Write Concern Acknowledgement values greater than 1+++ |  | {nbsp}
| Write Concern Timeout Timeunit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++The Timeunit for the Write Concern Timeout.+++ |  +++SECONDS+++ | {nbsp}
|===

==== Connection Types

[[config_connection]]
===== Connection


====== Parameters

[%header%autowidth.spread]
|===
| Name | Type | Description | Default Value | Required
| Servers (host:port) a| Array of <<ServerAddress>> |  +++The server where your MongoDB instance is. You can set multiple servers.+++ |  | *x*{nbsp}
| Database a| String |  +++Specify the database name that you want to connecto to.+++ |  | *x*{nbsp}
| Username a| String |  +++The username to use for authentication.+++ |  | {nbsp}
| Password a| String |  +++The password to use for authentication. If the password is null or whitespaces only, the connector won't use authentication and username must be empty too.+++ |  | {nbsp}
| Replica Set Name a| String |  +++The name of the replica set to connect to. The server Addresses list can be partial when using this parameter. This means that the user can set just one host on Server Addresses, but set this value and It will connect to the full cluster+++ |  | {nbsp}
| Authentication Source a| String |  |  | {nbsp}
| Compressors a| Array of String |  +++List of compressors to enable network compression for communication between this client and a mongod/mongos instance. If you specify multiple compressors, then the order in which you list the compressors matter as well as the communication initiator.+++ |  | {nbsp}
| Zlib Compression Level a| Number |  +++An integer that specifies the compression level if using zlib for network compression. 0 means No Compression, 1-9 are the compression levels, with 1 being the lowest compression level, and 9 the most compressions (and more processing time)+++ |  +++-1+++ | {nbsp}
| Connection Timeout a| Number |  +++The connection timeout; this is for establishing the socket connections (open). 0 is infinite.+++ |  +++30+++ | {nbsp}
| Connection Timeout Timeunit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++The connection timeout unit.+++ |  +++SECONDS+++ | {nbsp}
| Local Threshold a| Number |  +++The size of the latency window for selecting among multiple suitable MongoDB instances.+++ |  +++15+++ | {nbsp}
| Local Threshold Time Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++The local threshold Time Unit.+++ |  +++MILLISECONDS+++ | {nbsp}
| Server Selection Timeout a| Number |  +++Specifies how long to block for server selection before throwing an exception.+++ |  +++30+++ | {nbsp}
| Server Selection Timeout Time Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++The server selection Time Unit.+++ |  +++SECONDS+++ | {nbsp}
| Socket Timeout a| Number |  +++The socket timeout. It is used for I/O socket read and write operations. 0 is default and infinite.+++ |  | {nbsp}
| Socket Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++The socket timeout unit.+++ |  +++SECONDS+++ | {nbsp}
| Retry Writes a| Boolean |  +++Enable retryable writes+++ |  +++false+++ | {nbsp}
| Authentication Mechanism a| Enumeration, one of:

** PLAIN
** SCRAM_SHA_1
** SCRAM_SHA_256 |  +++The authentication Mechanism used for this connection+++ |  | {nbsp}
| Tls Context a| <<Tls>> |  |  | {nbsp}
| Min Connection Pool Size a| Number |  +++The minimum size for the connection pool.+++ |  | {nbsp}
| Max Connection Pool Size a| Number |  +++The maximum size for the connection pool.+++ |  +++100+++ | {nbsp}
| Max Wait Queue Time a| Number |  +++The maximum wait queue time for the connection pool.+++ |  +++120+++ | {nbsp}
| Max Wait Queue Time Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++The maximum wait queue time unit for the connection pool.+++ |  +++SECONDS+++ | {nbsp}
| Max Connection Life Time a| Number |  +++The maximum connection lifetime for the connection pool.+++ |  | {nbsp}
| Max Connection Life Time Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++The maximum connection lifetime Time Unit for the connection pool.+++ |  +++SECONDS+++ | {nbsp}
| Max Connection Idle Time a| Number |  +++The maximum connection idle time for the connection pool.+++ |  | {nbsp}
| Max Connection Idle Time Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++The maximum connection idle time Time Unit for the connection pool.+++ |  +++SECONDS+++ | {nbsp}
| Reconnection a| <<Reconnection>> |  +++When the application is deployed, a connectivity test is performed on all connectors. If set to true, deployment will fail if the test doesn't pass after exhausting the associated reconnection strategy+++ |  | {nbsp}
|===

==== Associated Operations
* <<addUser>> {nbsp}
* <<collectionExists>> {nbsp}
* <<countDocuments>> {nbsp}
* <<createCollection>> {nbsp}
* <<createFile>> {nbsp}
* <<createIndex>> {nbsp}
* <<dropCollection>> {nbsp}
* <<dropDatabase>> {nbsp}
* <<dropIndex>> {nbsp}
* <<dump>> {nbsp}
* <<executeCommand>> {nbsp}
* <<findDocuments>> {nbsp}
* <<findFiles>> {nbsp}
* <<getFileContent>> {nbsp}
* <<insertDocument>> {nbsp}
* <<insertDocuments>> {nbsp}
* <<listCollections>> {nbsp}
* <<listIndexes>> {nbsp}
* <<mapReduce>> {nbsp}
* <<removeDocuments>> {nbsp}
* <<removeFiles>> {nbsp}
* <<restoreFromDirectory>> {nbsp}
* <<restoreFromFile>> {nbsp}
* <<updateDocuments>> {nbsp}

==== Associated Sources
* <<object-listener>> {nbsp}


== Operations

[[addUser]]
=== Add User
`<mongo:add-user>`

+++
Adds a new user for this db
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Username a| String |  +++Name of the user+++ |  | *x*{nbsp}
| Password a| String |  +++Password that will be used for authentication+++ |  | *x*{nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================


==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[collectionExists]]
=== Collection Exists
`<mongo:collection-exists>`

+++
Answers if a collection exists given its name
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Collection Name a| String |  +++the name of the collection+++ |  | *x*{nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Boolean
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[countDocuments]]
=== Count Documents
`<mongo:count-documents>`

+++
Counts the number of documents that match the given query. If no query is passed, returns the number of elements in the collection
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Collection Name a| String |  +++The target collection+++ |  | *x*{nbsp}
| Query a| Binary |  +++The optional query for counting documents. Only documents matching it will be counted. If unspecified, all documents are counted. It can be: {"field1": "value1"} Or contain operators: { "field1": { $gte: 1, $lt:  10 } }+++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Number
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[createCollection]]
=== Create Collection
`<mongo:create-collection>`

+++
Creates a new collection. If the collection already exists, a MongoException will be thrown.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Collection Name a| String |  +++the name of the collection to create+++ |  | *x*{nbsp}
| Max Objects a| Number |  +++The maximum number of documents the new collection is able to contain+++ |  | {nbsp}
| Collection Size a| Number |  +++The maximum size of the new collection+++ |  | {nbsp}
| Collection Size Data Unit a| Enumeration, one of:

** BYTE
** KB
** MB
** GB |  +++Data Unit of the Collection Size parameter, by default it will be in Bytes+++ |  +++BYTE+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================


==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[createFile]]
=== Create File
`<mongo:create-file>`

+++
Creates a new file in the database, saving the given content, filename, contentType, and extraData.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Content a| Binary |  +++The mandatory content of the new file. This content is an InputStream.+++ |  +++#[payload]+++ | {nbsp}
| Filename a| String |  +++The name of the new file.+++ |  | *x*{nbsp}
| Metadata a| Binary |  +++A JSON object that hold any information you want to store.+++ |  | {nbsp}
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure if repeatable streams should be used and their behaviour+++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Binary
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[createIndex]]
=== Create Index
`<mongo:create-index>`

+++
Creates a new index
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Collection Name a| String |  +++The name of the collection where the index will be created+++ |  | *x*{nbsp}
| Field Name a| String |  +++The name of the field which will be indexed+++ |  | *x*{nbsp}
| Sort Order a| Enumeration, one of:

** ASC
** DESC |  +++The indexing order+++ |  +++ASC+++ | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| String
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[dropCollection]]
=== Drop Collection
`<mongo:drop-collection>`

+++
Deletes a collection and all the objects it contains. If the collection does not exist, it throws a NOT_FOUND error.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Collection Name a| String |  +++The name of the collection to drop+++ |  | *x*{nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================


==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[dropDatabase]]
=== Drop Database
`<mongo:drop-database>`

+++
Drop the current database
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Database Name a| String |  +++The name of the database to drop.+++ |  | *x*{nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================


==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[dropIndex]]
=== Drop Index
`<mongo:drop-index>`

+++
Drops an existing index
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Collection Name a| String |  +++The name of the collection+++ |  | *x*{nbsp}
| Index Name a| String |  +++The name of the index to drop+++ |  | *x*{nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================


==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[dump]]
=== Dump
`<mongo:dump>`

+++
Executes a dump of the database to the specified output directory. If no output directory is provided then the default /dump directory is used.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Output Directory a| String |  +++Output directory where dump files will be created+++ |  | *x*{nbsp}
| Output Name Prefix a| String |  +++output file name prefix, if it's not specified the database name will be used.+++ |  | {nbsp}
| Oplog a| Boolean |  +++point in time backup (requires an oplog)+++ |  +++false+++ | {nbsp}
| Operation Timeout a| Number |  +++Maximum wait time for the dump+++ |  +++60+++ | {nbsp}
| Operation Timeout Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS |  +++Time unit for the maximum wait time for the dump+++ |  +++SECONDS+++ | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Array of String
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[executeCommand]]
=== Execute Command
`<mongo:execute-command>`

+++
Executes a command on the database.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Command a| Binary |  +++The command to execute on the database as a Document.+++ |  +++#[payload]+++ | {nbsp}
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure if repeatable streams should be used and their behaviour+++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Binary
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[findDocuments]]
=== Find Documents
`<mongo:find-documents>`

+++
Finds all documents that match a given query. If no query is specified, all documents of the collection are retrieved. If no fields object is specified, all fields are retrieved.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Query a| Binary |  +++The optional query for finding documents. If unspecified, all documents are retrieved. It can be: {"field1": "value1"} Or contain operators: { "field1": { $gte: 1, $lt:  10 } }+++ |  | {nbsp}
| Sort By a| Binary |  +++Indicates the document used to sort the results+++ |  | {nbsp}
| Page Size a| Number |  +++Size of documents of each page to return+++ |  +++100+++ | {nbsp}
| Limit a| Number |  +++Limit of documents to return.+++ |  | {nbsp}
| Streaming Strategy a| * <<repeatable-in-memory-iterable>>
* <<repeatable-file-store-iterable>>
* <<non-repeatable-iterable>> |  +++Configure if repeatable streams should be used and their behaviour+++ |  | {nbsp}
| Collection Name a| String |  |  | *x*{nbsp}
| Fields a| String |  |  | *x*{nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Array of Binary
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[findFiles]]
=== Find Files
`<mongo:find-files>`

+++
Lists all the files that match the given query
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Query a| Binary |  +++The query object used to list all the files. It can be: {"field1": "value1"} Or contains operators: { "field1": { $gte: 1, $lt:  10 } }+++ |  | {nbsp}
| Sort a| Binary |  +++Allows you to sort the result list. A file can only be sorted by files_id or uploadDate.+++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Array of Binary
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[getFileContent]]
=== Get File Content
`<mongo:get-file-content>`

+++
Gets an InputStream to the content of the file specified by the fileID.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| File Id a| Binary |  +++The mandatory File ID.+++ |  +++#[payload]+++ | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Any
| *Attributes Type* a| Binary
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[insertDocument]]
=== Insert Document
`<mongo:insert-document>`

+++
Insert a document in a collection. The _id object can be specified or not (and mongo will auto generate one).
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Collection Name a| String |  +++The name of the collection where to insert the given document.+++ |  | *x*{nbsp}
| Document a| Binary |  +++The document to insert+++ |  +++#[payload]+++ | {nbsp}
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure if repeatable streams should be used and their behaviour+++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Binary
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[insertDocuments]]
=== Insert Documents
`<mongo:insert-documents>`

+++
Insert a list of documents in a collection. The _id object can be specified or not (and mongo will auto generate one).
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Collection Name a| String |  +++the name of the collection where to insert the given document.+++ |  | *x*{nbsp}
| Documents a| Binary |  +++The list of the documents to insert.+++ |  +++#[payload]+++ | {nbsp}
| Write Ordered a| Boolean |  +++Indicates if the list of documents will be executed in order or not. Also If it's set in true and an error occurs during the processing of one of the write operations, MongoDB  will return without processing any remaining write operations in the list.+++ |  +++false+++ | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| <<BulkOperationResult>>
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[listCollections]]
=== List Collections
`<mongo:list-collections>`

+++
Lists names of collections available at this database
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Array of String
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[listIndexes]]
=== List Indexes
`<mongo:list-indexes>`

+++
List existent indexes in a collection
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Collection Name a| String |  +++the name of the collection+++ |  | *x*{nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Array of <<Index>>
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[mapReduce]]
=== Map Reduce
`<mongo:map-reduce>`

+++
Transforms a collection into a collection of aggregated groups, by applying a supplied element-mapping function to each element, that transforms each one into a key-value pair, grouping the resulting pairs by key, and finally reducing values in each group applying a suppling 'reduce' function. <p> Each supplied function is coded in JavaScript. <p> Note that the correct way of writing those functions may not be obvious; please consult MongoDB documentation for writing them.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Collection Name a| String |  +++the name of the collection to map and reduce+++ |  | *x*{nbsp}
| Mapping Function a| String |  +++a JavaScript encoded mapping function+++ |  | *x*{nbsp}
| Reduce Function a| String |  +++a JavaScript encoded reducing function+++ |  | *x*{nbsp}
| Output Collection a| String |  +++the name of the output collection to write the results, replacing previous collection if existed, mandatory when results may be larger than 16MB. If outputCollection is unspecified, the computation is performed in-memory and not persisted.+++ |  | {nbsp}
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure if repeatable streams should be used and their behaviour+++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Binary
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[removeDocuments]]
=== Remove Documents
`<mongo:remove-documents>`

+++
Removes all the documents that match the a given optional query. If query is not specified, all documents are removed. However, please notice that this is normally less performant that dropping the collection and creating it and its indices again
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Collection Name a| String |  +++The collection whose elements will be removed+++ |  | *x*{nbsp}
| Query a| Binary |  +++The query object used to detect the elements to delete. It can be: {"field1": "value1"} Or contain operators: { "field1": { $gte: 1, $lt:  10 } }+++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Number
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[removeFiles]]
=== Remove Files
`<mongo:remove-files>`

+++
Removes the file that matches the given file id. If no file id is specified, all files are removed
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| File Id a| Binary |  +++The mandatory File ID to be deleted.+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================


==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[restoreFromDirectory]]
=== Restore From Directory
`<mongo:restore-from-directory>`

+++
Takes the output from the dump and restores it. Indexes will be created on a restore. It only does inserts with the data to restore, if existing data is there, it will not be replaced.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Input Path a| String |  +++Input path of the dump files, it MUST be a directory.+++ |  | *x*{nbsp}
| Drop Collections a| Boolean |  +++whether to drop existing collections before restore+++ |  +++false+++ | {nbsp}
| Oplog Replay a| Boolean |  +++replay oplog for point-in-time restore+++ |  +++false+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================


==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[restoreFromFile]]
=== Restore From File
`<mongo:restore-from-file>`

+++
It does a restore from a single .bson file or zip file.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Collection Name a| String |  +++The name of the colletion to restore+++ |  | *x*{nbsp}
| Input a| Binary |  +++An InputStream that points to the dump file. It can be a zip file or just a bson file+++ |  +++#[payload]+++ | {nbsp}
| Drop Collection a| Boolean |  +++whether to drop existing collections before restore+++ |  +++false+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================


==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


[[updateDocuments]]
=== Update Documents
`<mongo:update-documents>`

+++
Updates documents that matches the given query. If query is not specified, all documents are retrieved. If parameter multi is set to false, only the first document matching it will be updated. Otherwise, all the documents matching it will be updated.
+++

==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Collection Name a| String |  +++the name of the collection to update+++ |  | *x*{nbsp}
| Query a| Binary |  +++The query object used to detect the element to update. It can be: {"field1": "value1"} Or contain operators: { "field1": { $gte: 1, $lt:  10 } }+++ |  | {nbsp}
| Content To Update a| Binary |  +++The object that will replace the one which matches the query.+++ |  +++#[payload]+++ | {nbsp}
| Multiple Update a| Boolean |  +++If all or just the first document matching the query will be updated+++ |  +++false+++ | {nbsp}
| Upsert a| Boolean |  +++If set to true, creates a new document when no document matches the query criteria. The default value is false, which does not insert a new document when no match is found.+++ |  +++false+++ | {nbsp}
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure if repeatable streams should be used and their behaviour+++ |  | {nbsp}
| Target Variable a| String |  +++The name of a variable on which the operation's output will be placed+++ |  | {nbsp}
| Target Value a| String |  +++An expression that will be evaluated against the operation's output and the outcome of that expression will be stored in the target variable+++ |  +++#[payload]+++ | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Any
|======================

==== For Configurations.
* <<config>> {nbsp}

==== Throws
* MONGO:DUPLICATE_ERROR {nbsp}
* MONGO:CONSISTENCY_ERROR {nbsp}
* MONGO:RETRY_EXHAUSTED {nbsp}
* MONGO:NOT_FOUND {nbsp}
* MONGO:PERMISSIONS_DENIED {nbsp}
* MONGO:TIMEOUT {nbsp}
* MONGO:INVALID_INPUT {nbsp}
* MONGO:CONNECTIVITY {nbsp}


== Sources

[[object-listener]]
=== On Object Listener
`<mongo:object-listener>`


==== Parameters
[cols=".^20%,.^20%,.^35%,.^20%,^.^5%", options="header"]
|======================
| Name | Type | Description | Default Value | Required
| Configuration | String | The name of the configuration to use. | | *x*{nbsp}
| Collection Name a| String |  +++The collection that will be watched to detect the matching documents.+++ |  | *x*{nbsp}
| Watermark Field a| String |  +++The field that will queried to detect the objects that match the trigger condition.+++ |  | *x*{nbsp}
| Primary Node Only a| Boolean |  +++Whether this source should only be executed on the primary node when runnning in Cluster+++ |  | {nbsp}
| Scheduling Strategy a| <<scheduling-strategy>> |  +++Configures the scheduler that triggers the polling+++ |  | *x*{nbsp}
| Streaming Strategy a| * <<repeatable-in-memory-stream>>
* <<repeatable-file-store-stream>>
* <<non-repeatable-stream>> |  +++Configure if repeatable streams should be used and their behaviour+++ |  | {nbsp}
| Redelivery Policy a| <<RedeliveryPolicy>> |  +++Defines a policy for processing the redelivery of the same message+++ |  | {nbsp}
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> |  +++A retry strategy in case of connectivity errors+++ |  | {nbsp}
|======================

==== Output
[cols=".^50%,.^50%"]
|======================
| *Type* a| Binary
|======================

==== For Configurations.
* <<config>> {nbsp}



== Types
[[ServerAddress]]
=== Server Address

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Host a| String | The host you want to connect to. |  | x
| Port a| Number | The port of the host that you want to connect to. | 27017 |
|======================

[[Tls]]
=== Tls

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Enabled Protocols a| String | A comma separated list of protocols enabled for this context. |  |
| Enabled Cipher Suites a| String | A comma separated list of cipher suites enabled for this context. |  |
| Trust Store a| <<TrustStore>> |  |  |
| Key Store a| <<KeyStore>> |  |  |
| Revocation Check a| * <<standard-revocation-check>>
* <<custom-ocsp-responder>>
* <<crl-file>> |  |  |
|======================

[[TrustStore]]
=== Trust Store

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Path a| String | The location (which will be resolved relative to the current classpath and file system, if possible) of the trust store. |  |
| Password a| String | The password used to protect the trust store. |  |
| Type a| String | The type of store used. |  |
| Algorithm a| String | The algorithm used by the trust store. |  |
| Insecure a| Boolean | If true, no certificate validations will be performed, rendering connections vulnerable to attacks. Use at your own risk. |  |
|======================

[[KeyStore]]
=== Key Store

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Path a| String | The location (which will be resolved relative to the current classpath and file system, if possible) of the key store. |  |
| Type a| String | The type of store used. |  |
| Alias a| String | When the key store contains many private keys, this attribute indicates the alias of the key that should be used. If not defined, the first key in the file will be used by default. |  |
| Key Password a| String | The password used to protect the private key. |  |
| Password a| String | The password used to protect the key store. |  |
| Algorithm a| String | The algorithm used by the key store. |  |
|======================

[[standard-revocation-check]]
=== Standard Revocation Check

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Only End Entities a| Boolean | Only verify the last element of the certificate chain. |  |
| Prefer Crls a| Boolean | Try CRL instead of OCSP first. |  |
| No Fallback a| Boolean | Do not use the secondary checking method (the one not selected before). |  |
| Soft Fail a| Boolean | Avoid verification failure when the revocation server can not be reached or is busy. |  |
|======================

[[custom-ocsp-responder]]
=== Custom Ocsp Responder

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Url a| String | The URL of the OCSP responder. |  |
| Cert Alias a| String | Alias of the signing certificate for the OCSP response (must be in the trust store), if present. |  |
|======================

[[crl-file]]
=== Crl File

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Path a| String | The path to the CRL file. |  |
|======================

[[Reconnection]]
=== Reconnection

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Fails Deployment a| Boolean | When the application is deployed, a connectivity test is performed on all connectors. If set to true, deployment will fail if the test doesn't pass after exhausting the associated reconnection strategy |  |
| Reconnection Strategy a| * <<reconnect>>
* <<reconnect-forever>> | The reconnection strategy to use |  |
|======================

[[reconnect]]
=== Reconnect

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Frequency a| Number | How often (in ms) to reconnect |  |
| Count a| Number | How many reconnection attempts to make |  |
|======================

[[reconnect-forever]]
=== Reconnect Forever

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Frequency a| Number | How often (in ms) to reconnect |  |
|======================

[[ReadPreferenceTag]]
=== Read Preference Tag

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Name Value a| Object |  |  | x
|======================

[[ExpirationPolicy]]
=== Expiration Policy

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Max Idle Time a| Number | A scalar time value for the maximum amount of time a dynamic configuration instance should be allowed to be idle before it's considered eligible for expiration |  |
| Time Unit a| Enumeration, one of:

** NANOSECONDS
** MICROSECONDS
** MILLISECONDS
** SECONDS
** MINUTES
** HOURS
** DAYS | A time unit that qualifies the maxIdleTime attribute |  |
|======================

[[repeatable-in-memory-stream]]
=== Repeatable In Memory Stream

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Initial Buffer Size a| Number | This is the amount of memory that will be allocated in order to consume the stream and provide random access to it. If the stream contains more data than can be fit into this buffer, then it will be expanded by according to the bufferSizeIncrement attribute, with an upper limit of maxInMemorySize. |  |
| Buffer Size Increment a| Number | This is by how much will be buffer size by expanded if it exceeds its initial size. Setting a value of zero or lower will mean that the buffer should not expand, meaning that a STREAM_MAXIMUM_SIZE_EXCEEDED error will be raised when the buffer gets full. |  |
| Max Buffer Size a| Number | This is the maximum amount of memory that will be used. If more than that is used then a STREAM_MAXIMUM_SIZE_EXCEEDED error will be raised. A value lower or equal to zero means no limit. |  |
| Buffer Unit a| Enumeration, one of:

** BYTE
** KB
** MB
** GB | The unit in which all these attributes are expressed |  |
|======================

[[repeatable-file-store-stream]]
=== Repeatable File Store Stream

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| In Memory Size a| Number | Defines the maximum memory that the stream should use to keep data in memory. If more than that is consumed then it will start to buffer the content on disk. |  |
| Buffer Unit a| Enumeration, one of:

** BYTE
** KB
** MB
** GB | The unit in which maxInMemorySize is expressed |  |
|======================

[[RedeliveryPolicy]]
=== Redelivery Policy

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Max Redelivery Count a| Number | The maximum number of times a message can be redelivered and processed unsuccessfully before triggering process-failed-message |  |
| Use Secure Hash a| Boolean | Whether to use a secure hash algorithm to identify a redelivered message |  |
| Message Digest Algorithm a| String | The secure hashing algorithm to use. If not set, the default is SHA-256. |  |
| Id Expression a| String | Defines one or more expressions to use to determine when a message has been redelivered. This property may only be set if useSecureHash is false. |  |
| Object Store a| <<ObjectStore>> | The object store where the redelivery counter for each message is going to be stored. |  |
|======================

[[repeatable-in-memory-iterable]]
=== Repeatable In Memory Iterable

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Initial Buffer Size a| Number | This is the amount of instances that will be initially be allowed to be kept in memory in order to consume the stream and provide random access to it. If the stream contains more data than can fit into this buffer, then it will be expanded according to the bufferSizeIncrement attribute, with an upper limit of maxInMemorySize. Default value is 100 instances. |  |
| Buffer Size Increment a| Number | This is by how much will the buffer size by expanded if it exceeds its initial size. Setting a value of zero or lower will mean that the buffer should not expand, meaning that a STREAM_MAXIMUM_SIZE_EXCEEDED error will be raised when the buffer gets full. Default value is 100 instances. |  |
| Max Buffer Size a| Number | This is the maximum amount of memory that will be used. If more than that is used then a STREAM_MAXIMUM_SIZE_EXCEEDED error will be raised. A value lower or equal to zero means no limit. |  |
|======================

[[repeatable-file-store-iterable]]
=== Repeatable File Store Iterable

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| In Memory Objects a| Number | This is the maximum amount of instances that will be kept in memory. If more than that is required, then it will start to buffer the content on disk. |  |
| Buffer Unit a| Enumeration, one of:

** BYTE
** KB
** MB
** GB | The unit in which maxInMemorySize is expressed |  |
|======================

[[BulkOperationResult]]
=== Bulk Operation Result

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Id a| Any |  |  |
| Items a| Array of <<BulkItem>> |  |  |
| Successful a| Boolean |  |  |
|======================

[[BulkItem]]
=== Bulk Item

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Exception a| Any |  |  |
| Id a| Any |  |  |
| Message a| String |  |  |
| Payload a| Binary |  |  |
| Status Code a| String |  |  |
| Successful a| Boolean |  |  |
|======================

[[Index]]
=== Index

[cols=".^20%,.^25%,.^30%,.^15%,.^10%", options="header"]
|======================
| Field | Type | Description | Default Value | Required
| Field Name a| String |  |  |
| Name a| String |  |  |
| Order a| Enumeration, one of:

** ASC
** DESC |  |  |
|======================

