= Upgrade to NetSuite 11.x - Mule 4
:page-aliases: connectors::netsuite/netsuite-connector-upgrade-migrate.adoc

Upgrade NetSuite Connector to version 11.x to use the new features.

== Supported Upgrade Paths

[%header,cols="50a,50a"]
|===
|From Version | To Version
|10.x |11.x
|===

== Changes in this release

In the v10.x versions of NetSuite Connector, the connector resolved metadata by receiving Java objects as input and converting them internally to XML so that NetSuite could understand them. In the 11.x version, NetSuite Connector resolves metadata by receiving the XML input directly. The same happens with the output of the operations: now they all return the XML returned by NetSuite, without being modified by the connector.

Because of these modifications, the input and output metadata for many connector operations has changed. The metadata now appears as a set of XML fields.

The Reference Guide...

In the graphical view of DataWeave, you can generate the necessary input/output transformations by dragging and dropping the fields in the UI. Their corresponding Namespaces and tags necessary for the XML will be completed automatically.

[[new_operations]]
== New Operations



[[changed_operations]]
== Changed Operations

The following operations

=== Async operations

The async operations contain the following changes:

[%header%autowidth.spread]
|===
| Operation |Changes
| Async Add List |
| Async Delete List |
| Async Get List |
| Async Initialize List |
| Async Search |
| Async Updated List |
| Async Upsert List | Removed the Record Type field. You now specify the record type inside the message property of the input metadata.
| Check Async Status |
|===

== Invitee operations

[%header%autowidth.spread]
|===
| Operation |Changes
| Update Invitee Status |
| Update Invitee Status List | Removed the Record Type and Invitee Status fields. You now specify these values in the message property of the input metadata.
|===

== Item Operations

[%header%autowidth.spread]
|===
| Operation |Changes
| Get Item Availability | Removed the Record and If Modified Since fields. You now specify these values in the message property of the input metadata.
| Get Posting Transaction Summary |Removed the Fields, Filters, and Page Index fields. You now specify these values in the message property of the input metadata.
| Get Current Rate | Removed the Rate Filter field. You now specify this value in the message property of the input metadata.
|===

== Record Operations

[%header%autowidth.spread]
|===
| Operation |Changes
| Add File | Removed this operation. For equivalent functionality, use the Add Record operation and specify `FILE` as the record type in the XML message attribute.
| Add List |
Removed the Record Maps field. You now specify this value in the message property of the input metadata.
| Add Record | Removed the Attributes field. You now specify the associated values in the message property of the input metadata.
| Add Record Objects | Removed this operation. For equivalent functionality, use the Add Record operation.
| Attach Record |
Removed all of the general fields. You now specify the associated values in the message property of the input metatada.
| Delete | Removed the Base Ref field. You now specify the associated values in the message property of the input metatada.
| Delete List | Removed the Deleted Base Ref Types field. You now specify the associated values in the message property of the input metatada.
| Delete Record | Removed this operation. For equivalent functionality, use the Delete operation.
| Delete Records List | Removed this operation. For equivalent functionality, use the Delete List operation.
| Detach Record | Removed the Source and Destination fields. You now specify the associated values in the message property of the input metatada.
| Get | No changes
| Get Custom Record | Removed this operation. For equivalent functionality, use the Get operation.
| Get Deleted Records | Removed all of the general fields. You now specify the associated values in the message property of the input metatada.
| Get List | Removed all of the general fields. You now specify the associated values in the message property of the input metatada.
| Get Record | Removed this operation. For equivalent functionality, use the Get operation.
| Get Records | No changes
| Get Select Value | Removed all of the general fields. You now specify the associated values in the message property of the input metatada.
| Get Saved Search | Renamed the Record Type field to Search Type.
| Initialize | Removed the Record to Initialize field. You now specify the associated values in the message property of the input metatada.
| Initialize List | Removed all of the general fields. You now specify the associated values in the message property of the input metatada.
| Search | Removed the Key and Search Record fields. You now specify the associated values in the message property of the input metatada.
| Update List | Removed the Record Maps field. You now specify the associated values in the message property of the input metatada.
| Update Record | Removed the Attributes field. You now specify the associated values in the message property of the input metatada.
| Update Records List | Removed this operation. For equivalent functionality, use the Update List operation.
|Upsert List | Removed the Record Maps field. You now specify the associated values in the message property of the input metatada.
| Upsert Record | Renamed the operation to Upsert and removed the Attributes field. You now specify the associated values in the message property of the input metatada.
| Update Records List | Removed this operation. For equivalent functionality, use the Update List operation.
|===








== Upgrade Steps

If you are upgrading from an earlier version of the connector, you can click the `Updates Available` pop-up message in the bottom right corner of Anypoint Studio and follow the prompts.

You can also follow these steps to perform the upgrade:

. In Anypoint Studio, create a Mule project.
. In *Mule Palette*, click *Search in Exchange*.
. In *Add Dependencies to Project*, enter `netsuite` in the search field.
. In *Available modules*, select *NetSuite* and click *Add*. +
Studio upgrades the connector automatically.
. Click *Finish*.
. In the `pom.xml` file for the Mule project, verify that the NetSuite Connector dependency version is `10.0.0`.

== Post Upgrade Tasks

* Ensure that your configurations use either *Request Based* or *Token* authentication.
* Verify that your error handling is updated to work with the minor changes in error codes in this version of the connector.
* Refer to <<changed_operations,Changed Operations>> and <<changed_sources,Changed Sources>> for updated operations and sources. +
If your integration uses any of the affected operations and sources, make the necessary changes to comply with the new interfaces.
* Because the package of the exposed classes was changed to `com.mulesoft.connector.netsuite.extension.api`, you must update all DataWeave mappings that create objects for operation inputs. +
You must also update mappings that transform object outputs.

== Verify the Upgrade

After you install the latest version of the connector, verify the upgrade:

. In Studio, verify that there are no errors in the *Problems* or *Console* views.
. Verify that there are no problems in the project `pom.xml` file.
. Test the connection to verify that the operations work.

== Revert the Upgrade

If you must revert to your previous version of NetSuite Connector, change the `mule-netsuite-connector` dependency version `10.0.0` in the projectâ€™s `pom.xml` to the previous version.
Additionally, revert any changes made in the operations to their previous state.

== See Also

https://help.mulesoft.com[MuleSoft Help Center]
